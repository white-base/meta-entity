/*! Logic Core v1.0.1 Copyright (c) 2025  and contributors */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)._L={})}(this,(function(e){"use strict";function t(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,l,"next",e)}function l(e){t(a,o,i,s,l,"throw",e)}s(void 0)}))}}function r(e,t,n){return t=l(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,[],l(e).constructor):t.apply(e,n))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new k(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",y="suspendedYield",d="executing",m="completed",b={};function g(){}function w(){}function _(){}var E={};c(E,a,(function(){return this}));var v=Object.getPrototypeOf,L=v&&v(v(S([])));L&&L!==n&&r.call(L,a)&&(E=L);var $=_.prototype=g.prototype=Object.create(E);function j(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=p(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var c=p(t,n,r);if("normal"===c.type){if(o=r.done?m:y,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return w.prototype=_,o($,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=c(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create($),e},t.awrap=function(e){return{__await:e}},j(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j($),c($,l,"Generator"),c($,a,(function(){return this})),c($,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(c())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&f(o,n.prototype),o}(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},y(e)}var d,m={ES010:"Other errors",ES011:"Failed to get module ['$1']",ES012:"Failed to get function ['$1'()",ES013:"[$1] failed to process [$2]",ES021:"[$1] can only be of type [$2]",ES022:"[$1] is an unprocessable typo",ES023:"[$1] is not type [$2]",ES031:"[$1] is not an object",ES032:"[$1] is not an instance of [$2]",ES033:"The object in [$1] is different from [$2]",ES041:"[$1] is duplicated with [$2]",ES042:"[$2] exists in [$1] and cannot measure [$3]",ES043:"[$1] cannot be added because [$1] exists in [$1] ",ES044:"[$1] is a reserved word ",ES051:"Required value [$1] not found",ES052:"[$1] requires [$2]",ES053:"[$2] does not exist in [$1]",ES054:"[$1] cannot be blanked",ES061:"Exceeded the range [$2] of [$1]",ES062:"[$1] cannot be less than [$2]",ES063:"[$1] and [$2] have different lengths",ES064:"and(&) condition check failed. $1",ES065:"Or(|) condition check failed. $1",ES066:"[$1] ranges from [$2] to [$3]",EL01100:"----- util-type.js match -----",EL01101:"Type match: You must specify a detailed type of $1.$1: $2",EL01102:"Type match : target is not type '$1'. tarType : $2",EL01103:"Type match: cannot handle type",EL01110:"----- match array -----",EL01111:"Array match: target is not array type. tarType: $1",EL01112:"Array match : array(_ANY_) type must have at least one element of target array. target.length = $1",EL01113:"Array match: target array is less than array(_SEQ_) type length. extType.length = $1, target.length = $2",EL01114:"Array match: array(_SEQ_) [$1]th literal type is different from target value. extType[$1] = $2, target[$1] = $3",EL01115:"Array match: array(_SEQ_) [$1]th type check failed. extType[$1] = $2",EL01116:"Array match : array(_REQ_) type must have at least one element of target array. target.length = $1",EL01117:"Array match : array($1) is the type of array that cannot be handled",EL01118:"Array match: array element check failed. extType: $1, tarType: $2",EL01120:"----- match choice -----",EL01121:"Choice match: 'undefined' is not available for choice(_ANY_) type",EL01122:"Choice match: 'undefined' only for choice(_NON_) type",EL01123:"Choice match: Error instance only for choice(_ERR_) type",EL01124:"Choice match: choice(_EUM_) type details can only be literal. extType[$1]: $2",EL01125:"Choice match: the first subtype of choice(_DEF_) type is literal only. extType[0]: $1",EL01126:"Choice match : choice($1) is a type of choice that cannot be handled",EL01127:"Choice match: choice detailed type check failed. extType: $1, tarType: $2",EL01130:"----- match class -----",EL01131:"Class match: Inspection failed after creating class type as union type (opt = 1)",EL01132:"Class match: target is not an instance of [$1]",EL01133:"Class match: target is not class, object, or union type. tarType: $1",EL01140:"----- match union -----",EL01141:"Union match: target is not union type. tarType: $1",EL01142:"Union match: target['$1'] key does not exist. extType['$1'] = $2",EL01143:"Union match: '$1' type check failed",EL01150:"----- match function -----",EL01151:"Function match: target is not function type. tarType: $1",EL01152:"Function match: declared extType.name = '$1' and target name do not match: function.name = '$2'",EL01153:"Function match : declared extType.func, target.func is not function type",EL01154:"Function match: extType.func and target.func are different (proto check)",EL01155:"Function match: You must set the params or return object of the target. extType.param = $1, extType.return = $2",EL01156:"Function match: params acceptance test denied. <array(_SEQ_) conversion>",EL01157:"Function Match: Return Acceptance Test Denied",EL01200:"----- allow -----",EL01201:"Type allowed: You must specify a subtype of $1.$1: $2",EL01202:"Type allowed: different from type 1 literal value. extType = $2, tarType = $3",EL01203:"Type allowed: not type $1. tarType = $2",EL01204:"Type allowed: type not processable",EL01210:"----- allow array -----",EL01211:"Array permit: Not array type. tarType: $1",EL01212:"Type allowed: array(_ALL_, _OPT_) type is not allowed for array(_ANY_) type. tarType: $1",EL01213:"Allow array: Only array(_SEQ_) type is allowed for array(_SEQ_) type. tarType: $1",EL01214:"Array permit: tarType must be equal to or greater than the length of array(_SEQ_) type of extType.length = $1, target.length = $2",EL01215:"Array Allowance: array(_SEQ_) [$1]th type check failed",EL01216:"Allow array : Do not allow array(_ALL_, _ANY_, _OPT_) type for array(_REQ_). tarType: $2",EL01217:"Allow array: Do not allow array(_ALL_, _ANY_) type for array(_OPT_). tarType: $2",EL01218:"Allow array : array($1) is the type of array that cannot be handled",EL01219:"Array element check failed. extType: $1, tarType: $2",EL01220:"----- allow choice -----",EL01221:"Choice allowed: do not allow choice(_ERR_) type for choice(_ALL_). tarType: $1",EL01222:"Choice allowed: 'undefined' type is not allowed for choice(_ANY_) type",EL01223:"Choice allowed: choice(_NON_, _ERR_) type is not allowed for choice(_ANY_) type. tarType: $1",EL01224:"Choice allowed: only choice(_NON_) type and choice(_NON_) type. tarType: $1",EL01225:"Choice allowed: choice(_ERR_) type and choice(_ERR_) type only. tarType: $1",EL01226:"Choice allowed: do not allow choice(_ALL_, _ANY_, _OPT_, _NON_, _ERR_) type for choice(_REQ_). tarType: $1",EL01227:"Choice allowed: do not allow choice(_ALL_, _ANY_, _NON_, _ERR_) type for choice(_OPT_). tarType: $1",EL01228:"Choice allowed: choice(_EUM_) type and choice(_EUM_) type only",EL01229:"Choice allowed: choice(_EUM_) subtype can only be literal. extType[$1]: $2",EL0122A:"Choice allowed: the subtype of tarType choice(_EUM_) can only be literal. tarType[$1]: $2",EL0122B:"Choice allowed: choice(_DEF_) type and choice(_DEF_) type only",EL0122C:"Choice allowed: the first subtype of extType choice(_DEF_) is literal only. extType[0]: $1",EL0122D:"Choice allowed: the first subtype of tarType choice(_DEF_) is literal only. tarType[0]: $1",EL0122E:"Choice allowed: choice($1) is a type of choice that cannot be handled",EL0122F:"Choice allowed: tarType[$1] = $3, no extType allowed. extType = $2",EL01230:"----- allow class -----",EL01231:"Class allowed: ExtType, tarType class failed after creating a union type. (opt = 1)",EL01232:"Class allowed: class to class denied. (opt = $1)",EL01233:"Class allowed: Inspection failed after creating tarType class type as union type (opt = 1)",EL01234:"Class allowed: class to union denied. (opt = $1)",EL01235:"Class allowed: tarType is not class, union type. tarType: $1",EL01240:"----- allow union -----",EL01241:"Union allowed: tarType is not a union type. tarType: $1",EL01242:"Union allowed: tarType['$1'] key does not exist. extType['$1'] = $2",EL01243:"Union allowed: Type '$1' check failed",EL01250:"----- allow function -----",EL01251:"Allow function : tarType is not function type. tarType : $1",EL01252:"Function allowed: declared extType.name = '$1' and target name do not match: function.name = '$2'",EL01253:"Function allowed: declared extType.func, target.func is not of function type",EL01254:"Function allowed: extType.func and target.func are different (proto check)",EL01255:"Function permit: params or return object of tarType must be set. extType.param = $1, extType.return = $2",EL01256:"Function permit: params permit test denied. <array(_SEQ_) conversion>",EL01257:"Function Permitted: Return Permitted Test Denied",EL01300:"----- util-type.js -----",EL01301:"Parcing check: function is not a rule: '$1'",EL01302:"Parcing inspection: function has no argument, body content. '$1'",EL01303:"Parcing inspection: function parsing failed $1",EL01304:"Type check: [$1] is a special type to handle",EL01305:"Type check: array($1) type is a specular type that cannot be handled",EL01306:"Type check: choice($1) type is a special type that cannot be handled",EL01307:"Type check: array($1) type is a type that cannot be handled",EL01308:"Type check: choice($1) type is a type that cannot be handled",EL01309:"REVIEW:",EL0130A:"Type allowed: allowType (extType, tarType) scan failed",EL0130B:"Type match: matchtype (extType, target) check failed",EL0130C:"ctor is not function type. type aperture = $1",EL01400:"----- util.js -----",EL01401:"implements(ctor, obj, args..); ctor is not of type <function> == '$1'",EL01402:"implements(ctor, obj, args..); obj is not of type <object> type of obj == '$1'",EL01403:"implements(ctor, obj, args..); args[$1] is not type <function>. type of args[$1] == '$2'",EL01404:"[$1] must implement type [$2]. $1._KIND = '$3'",EL01405:"isImplementOf(target); target is of type <function, string> only. type of target = '$1'",EL01500:"----- etc -----",EL01501:"$1.$events is obejct type. type of $events $2",EL01502:"$1.isLog is boolean type. type isLog $2",EL01503:"on(event, listener); event is not of type <string> type of event == '$1'",EL01504:"on(event, listener); listener is not of type <function> type of listener == '$1'",EL01505:"once(event, listener); event is not of string type. typeof event == '$1'",EL01506:"once(event, listener); listener 는 <function> 타입이 아닙니다. typeof listener == '$1'",EL01507:"off(event, listener); event is not of type <string> type of event == '$1'",EL01508:"off(event, listener); listener 는 <function> 타입이 아닙니다. typeof listener == '$1'",EL01509:"emit(event); event is not of type <string> type of event == '$1'",EL01510:"",EL02100:"----- Interface.* -----",EL02110:"----- i-object.js -----",EL02111:"getType(): array<function> is an abstract method. [$1] must be implemented",EL02112:"instanceOf(any): boolean is an abstract method. [$1] must be implemented",EL02113:"equal(any): boolena is an abstract method. [$1] must be implemented",EL02120:"----- i-marshal.js -----",EL02121:"getObject(opt?, origin?) : object is abstract method. [$1] must be implemented",EL02122:"setObject(mObj) is an abstract method. [$1] must be implemented",EL02130:"----- i-element.js -----",EL02131:"clone(): object is an abstract method. [$1] must be implemented",EL02140:"----- i-list.js -----",EL02150:"----- i-control-list.js -----",EL02151:"add(key) is an abstract method. [$1] must be implemented",EL02152:"del(key) is an abstract method. [$1] must be implemented",EL02153:"has(key): boolean is an abstract method. [$1] must be implemented",EL02154:"find(any): any is an abstract method. [$1] must be implemented",EL02160:"----- i-collection.js -----",EL02161:"add(any): boolean is an abstract method. [$1] must be implemented",EL02162:"remove(elem): boolean is an abstract method. [$1] must be implemented",EL02163:"cantains(any): boolean is an abstract method. [$1] must be implemented",EL02164:"indexOf(any): number is an abstract method. [$1] must be implemented",EL02170:"----- i-collection-array.js -----",EL02171:"insertAt(pos, val, ..): boolean is an abstract method. [$1] must be implemented",EL02180:"----- i-collection-property.js -----",EL02181:"indexToKey(idx): string is an abstract method. [$1] must be implemented",EL02190:"----- i-serialize.js -----",EL02191:"output(opt, ...): string is an abstract method. [$1] must be implemented",EL02192:"load(any, ...) is an abstract method. [$1] must be implemented",EL02300:"----- Meta.Entity.* -----",EL03100:"----- Meta.* -----",EL03110:"----- meta-object.js -----",EL03111:"You cannot create abstract, interface, enum type. $1['_KIND'] = '$2'",EL03112:"setObject(oGuid, origin); oGuid 는 'object' 타입입니다. typeof oGuid = '$1'",EL03113:"setObject(oGuid, origin); different namespaces. this._type = $1, oGuid._type = $2",EL03114:"setObject(oGuid, origin); origin 은 Guid 객체가 아닙니다. origin._type = '$1', origin._guid = '$2'",EL03120:"----- meta-element.js -----",EL03121:"$name;val is of type 'string'. type of valve = '$1'",EL03122:"$name; val.length must be greater than 0",EL03200:"----- meta-registry.js -----",EL03211:"register(meta); the meta to register is not a Guide object. meta._type = '$1', meta._guid = '$2'",EL03212:"register(meta); meta._guid to register is already registered. meta._guid = '$1'",EL03213:"release(meta); the meta to release is string(guid) | object(guid) type only. type of meta = '$1'",EL03220:"----- create -----",EL03221:"createMetaObject(oGuid, origin); oGuid can only be of type 'object'. typeof oGuid = '$1'",EL03222:"createMetaObject(oGuid, origin); oGuid._type 은 'string' 타입만 가능합니다.(length > 0) typeof oGuid._type = '$1'",EL03223:"createMetaObject(oGuid, origin); origin can only be of type 'object'. typeof origin = '$1'",EL03224:"createMetaObject(oGuid, origin);[$1] Namespace is not of type 'function'. type of coClass = '$2'",EL03225:"createReferObject(meta); meta can only be of type 'object'. type of meta = '$1'",EL03226:"createReferObject(meta); meta._guid 은 'string' 타입만 가능합니다.(length > 0) typeof meta._guid = '$1'",EL03227:"createNsReferObject(fun); fun is not type 'function'. type of fun = '$1'",EL03230:"----- ns Class -----",EL03231:"register Class(fun, ns, key); fun is not of type 'function'. type of fun = '$1'",EL03232:"registerClass(fun, ns, key); ns is not of type 'string'. typeofns = '$1'",EL03233:"register Class(fun, ns, key); key is not of type 'string'. type of key = '$1'",EL03234:"releaseClass(fullName); fullName 은 'string' 타입만 가능합니다.(length > 0) typeof fullName = '$1'",EL03235:"findClass(fun); fun is not type 'function'. type of fun = '$1'",EL03236:"getClass(fullName); fullName can only be of type 'string' (length > 0) type of fullName = '$1'",EL03240:"----- set, transform, load -----",EL03241:"setMetaObject(oGuid, meta); oGuid can only be of type 'object'. typeof oGuid = '$1'",EL0324:"setMetaObject(oGuid, meta); meta can only be of type 'object'. type of meta = '$1'",EL03243:"setMetaObject(meta); meta._guid can only be of type 'string' (length > 0) type of meta._guid = '$1'",EL03244:"transformRefer(oGuid); oGuid can only be of type 'object'. type oGuid = '$1'",EL03245:"transformRefer(oGuid); $1['$2']['$ns'] is not of type 'function'",EL03246:"loadMetaObject(str, path?); str is only of type 'string'. typeof str = '$1'",EL03247:"loadMetaObject(str, path?); The object parsed str is not a Guide object. obj._type = '$1', obj._guid = '$2'",EL03250:"----- has, valid, find -----",EL03251:"validObject(oGuid); oGuid is only of type 'object'. typeof oGuid = '$1'",EL03252:"hasGuidObject(oGuid, origin); guid can only be of type 'string' (length > 0) type of guid = '$1'",EL03253:"hasGuidObject(oGuid, origin); origin[$1]는 'object' 타입이 아닙니다. typeof origin[$1] = '$2'",EL03254:"hasRefer(oGuid); oGuid can only be of type 'object'. typeof oGuid = '$1'",EL03255:"hasRefer(oGuid); oGuid is not a Guide object. oGuid._type = '$1', oGuid._guid = '$2'",EL03256:"findSetObject(oGuid, origin); [ oGuid._guid | oGuid ]는 'string' 타입만 가능합니다.(length > 0) guid = '$1'",EL03257:"findSetObject(oGuid, origin); origin can only be of type 'object'. typeof origin = '$1'",EL03300:"----- namespace-manager.js -----",EL03310:"----- private function, proterty -----",EL03311:"NamespaceManager.allowOverlap 은  'boolean' 타입만 가능합니다. typeof allowOverlap = $1",EL03312:"_getArray(ns); ns is not a valid namespace name rule. ns = $1",EL03313:"_getArray(ns); ns type is 'string', 'array<string>' only typeofns = $1",EL03314:"_getArray(ns); ns[$1] is not type 'string'. typeofns[$1] = $2",EL03315:"_getArray(ns); ns[$1] is not a valid name rule. ns[$1] = $1",EL03320:"----- addNamespace, delNamespace, path -----",EL0321:"addNamespace(ns); addition of namespace failed",EL03322:"delNamespace(ns); Namespace deletion failed",EL0323:"path(ns); failed to get the namespace path",EL03330:"----- add, del -----",EL03331:"add(fullName,lem); [$1] is not a valid name rule",EL03332:"add(fullName,lem);lem is already registered. Allow duplicate [this.allowOverlap = 'true']",EL03333:"add(fullName,lem); failed to register elements in the namespace",EL03334:"del(fullName); Failed to delete element in Namespace",EL03340:"----- getPath, output, load -----",EL03341:"getPath(elem); no element value. typeoflem = $1",EL03342:"output (stringify, space); Namespace export failed. $1",EL03343:"load(str, path); str is not type 'string'. typeofstr = $1",EL03344:"load(str, path); Namespace loading failed. $1",EL04100:"----- Collection.* -----",EL04110:"----- base-collection.js -----",EL04111:"_remove(idx): boolean is an abstract method. Must be implemented",EL04112:"setObject(oGuid, origin); _owner connection of oGuid failed. guid = $1",EL04113:"removeAt(idx); idx is not type 'number'. typeof idx = $1",EL04114:"add(any): number is an abstract method. must be implemented",EL04115:"clear() is an abstract method. must be implemented",EL04116:"map(callback); callback is not function type. type of callback = $1",EL04117:"filter(callback); callback is not function type. type of callback = $1",EL04118:"reduce(callback); callback is not function type. type of callback = $1",EL04119:"find(callback); callback is not function type. type of callback = $1",EL041110:"forEach(callback); callback is not function type. type of callback = $1",EL041111:"Some(callback); callback is not function type. type of callback = $1",EL041112:"Every(callback); callback is not function type. type of callback = $1",EL041113:"findIndex(callback); callback 이 function 타입이 아닙니다. typeof callback = $1",EL04200:"",EL04210:"----- collection-array.js -----",EL04211:"_elements connection failed for setObject(oGuid, origin); oGuid['_elem'][$1]: guid = $2",EL04212:"insertAt(pos, value, desc); pos is not type 'number'. typeof pos = $1",EL04213:"insertAt(pos, value, desc); pos cannot be greater than this.count.pos = $1, count = $2",EL04214:"insertAt(pos, value, desc); pos cannot be less than 0. pos = $1",EL04215:"insertAt(pos, value, desc); registration failed. pos = $1, value = $2",EL04220:"----- collection-property.js -----",EL04221:"setObject(oGuid, origin); oGuid['_lem'].length = $1 length and oGuid['_key'].length = $2 length are different",EL04222:"setObject(oGuid, origin); oGuid['_elem'].length = $1 length and oGuid['_desc'].length = $2 length are different",EL04223:"setObject(oGuid, origin); oGuid._elem[$1] guid not found. guid = $2",EL04224:"indexOf(obj, isKey); if the index value is found by key, obj must be of type 'string'. typeof obj = $1",EL04225:"add(name, value, desc); name is not of type 'string'. type of name = $1",EL04226:"add(name, value, desc); name = '$1' is not valid for name rule. Rule = '$2'",EL04227:"add(name, value, desc); name = '$1' is the reserved word",EL04228:"add(name, value, desc); name = '$1' is duplicated with existing name",EL04229:"add(name, value, desc); addition failed. name = '$1', value = '$2'",EL0422A:"indexToKey(idx); idx is not of type 'number'. typeof idx = $1",EL0422B:"exists(key); key is not of type 'string' (length > 0) type of key = $1",EL04300:"",EL04310:"----- collection-transaction.js -----",EL04311:"$1.autoChanges 는 'boolean' 타입입니다. typeof aucoChanges = '$2'",EL04320:"----- trans-queue.js -----",EL04321:"collection value is not an instance that inherited [MetaObject]",EL04322:"collection is not an instance of [ArrayCollection]",EL04323:"rollback(); '$1' is an unprocessable cmd",WS011:"[$1] Destination [$2] cannot be deleted",EN:"OK"};function b(e){return e&&"object"===h(e)&&!Array.isArray(e)}function g(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],o=t[n];b(o)?(b(r)||(e[n]={}),e[n]=g(e[n],o)):e[n]=o}return e}function w(e){return _.apply(this,arguments)}function _(){return(_=n(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="undefined"!=typeof process&&null!==process.versions&&null!==process.versions.node&&!0!==globalThis.isDOM,r=n&&("undefined"==typeof require||!0===globalThis.isESM),e.prev=2,!r){e.next=9;break}return e.next=6,import(t);case 6:return e.abrupt("return",e.sent.default);case 9:if(!n){e.next=13;break}return e.abrupt("return",require(t));case 13:return e.next=15,fetch(t);case 15:return o=e.sent,e.next=18,o.json();case 18:return e.abrupt("return",e.sent);case 19:e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(2),e.abrupt("return",void 0);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})))).apply(this,arguments)}function E(){var e,t="";if("undefined"!=typeof window&&"undefined"!=typeof navigator)t=((null===(e=navigator.languages)||void 0===e?void 0:e[0])||navigator.language||Intl.DateTimeFormat().resolvedOptions().locale).split(/[_-]/)[0];else if("undefined"!=typeof process){var n=process.env.LANG||process.env.LC_ALL||process.env.LANGUAGE;n&&(t=n.split(/[:_.]/)[0].replace("_","-"))}return t||"en"}var v=function(){function e(){o(this,e)}return a(e,null,[{key:"getMessageByCode",value:function(e){var t,n,r=(null===(t=this.$storage.lang[this.currentLang])||void 0===t?void 0:t[e])||(null===(n=this.$storage.lang[this.defaultLang])||void 0===n?void 0:n[e]);return"number"==typeof r?String(r):r}},{key:"importMessage",value:function(e,t){var n;b(e)&&(g(this.$storage.lang.default,e),"string"==typeof(n=t)&&n.length>0&&this.$storage.path.push(t))}},{key:"changeLanguage",value:(r=n(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentLang=t,"default"!==t){e.next=3;break}return e.abrupt("return");case 3:n=0;case 4:if(!(n<this.$storage.path.length)){e.next=14;break}return r=this.$storage.path[n],e.next=8,w("".concat(r,"/").concat(t,".json"));case 8:o=e.sent,this.$storage.lang[t]=this.$storage.lang[t]||{},"object"===h(o)?g(this.$storage.lang[t],o):console.warn("Path '".concat(r,"/").concat(t,"' does not have a file."));case 11:n++,e.next=4;break;case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"get",value:function(t,n){var r,o=e.getMessageByCode(t);return void 0===o?"There is no message for code. '".concat(t,"'"):(r=function(e,t){var n={},r=[];return Array.isArray(t)?r=t:"object"===h(t)&&(n=t),(e=e.replace(/\$\{(\w+)\}/g,(function(e,t){return n.hasOwnProperty(t)?n[t]:e}))).replace(/\$(\d+)/g,(function(e,t){var n=parseInt(t,10)-1;return void 0!==r[n]?r[n]:e}))}(o,n),function(e){var t="",n=e.substring(0,1);"E"===n?t="Error":"W"===n&&(t="Warn");return t+" ["+e+"] "}(t)+r)}},{key:"resetLang",value:function(){this.currentLang=this.defaultLang}},{key:"autoDetect",value:(t=n(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"en"===(n=E())&&(n="default"),t.next=4,e.changeLanguage(n);case 4:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]);var t,r}();d=v,s(v,"_NS","Common"),s(v,"$storage",{lang:{default:{}},path:[]}),s(v,"defaultLang","default"),s(v,"currentLang",d.defaultLang),v.importMessage(m,"./locales");var L=function(e){function t(e,n,i){var a;o(this,t),s(a=r(this,t),"queue",[]),s(a,"prop",{});var l,c,u="",f=[];return n instanceof t?(f=n.queue,l=n.prop):n instanceof Error?f.push(n.message):"object"===h(n)&&null!==n&&(l=n),u=(c="string"==typeof e?e:e instanceof RegExp?v.get(e.source,i):"")+"\n",l&&(u+=function(e){var t="";for(var n in e)"string"==typeof e[n]&&(t+=n+" : "+e[n]+"\n");return t}(l)),f.length>0&&(u+=function(e){for(var t="",n=e.length,r=n;r>0;r--){for(var o="",i=r;i<=n;i++)o+="#";t+=o+" "+e[r-1]+"\n"}return t}(f)),a.message=u,a.queue=f,a.queue.push(c),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),a(t,[{key:"toString",value:function(){return"ExtendError : "+this.message}}])}(y(Error));s(L,"_NS","Common");var $=globalThis,j=!!$.OLD_ENV&&$.OLD_ENV,O={};function P(e){return"object"===h(e)&&null!==e&&!function(e){return"object"===h(e)&&null!==e&&(e instanceof RegExp||e instanceof Date)}(e)}function A(e){return"number"==typeof e||("string"==typeof e||("boolean"==typeof e||("bigint"==typeof e||e instanceof RegExp)))}function N(e,t){return e===t||e instanceof RegExp&&t instanceof RegExp&&e.source===t.source}var T=function(e){return new e};function k(e){return e.name}function S(e){var t;return"string"!=typeof e?"":null!==(t=/^_[a-zA-Z]+_/.exec(e))?t[0].toUpperCase():""}function x(e){var t=e.match(/\((.*?)\)\s*=>\s*\{([\s\S]*)\}/);if(!t){var n=e.match(/^(.*?)\s*=>\s*\{([\s\S]*)\}/);if(!n)throw new Error("Invalid arrow function format.");var r=n[1].trim(),o=n[2].trim();return x("(".concat(r,") => {").concat(o,"}"))}var i=t[1].trim(),a=t[2].trim();(a.match(/let\s+(\{[\s\S]*?\}|\[[\s\S]*?\])\s*=\s*(\w+);/g)||[]).forEach((function(e){var t=e.match(/let\s+(\{[\s\S]*?\}|\[[\s\S]*?\])\s*=\s*(\w+);/);if(t){var n=t[1].trim(),r=t[2].trim(),o=new RegExp("\\b".concat(r,"\\b"),"g");i=i.replace(o,n)}}));var s=a.match(/return\s+(.*?);/),l=s?s[1].trim():"";return l?(i=i.replace(/\s+/g,""),"(".concat(i,")=>{return ").concat(l,"}")):(i=i.replace(/\s+/g,""),"(".concat(i,")=>{}"))}function C(e){var t,n,r={params:[],return:void 0},o=[];/\blet\b/.test(e)&&(e=x(e)),e=e.replace(/\/\*[^](.*?)\*\//g,"").replace(/\/\/[^](.*?)(\n|$)/g,"");try{if(/\([,_\[\]{:}\w\s]*\)\s*(?:=>)?\s*{\s*.*\s*.*\s*}/.test(e))t=/(?:function\s)?\(([\[\]{:}\s\w,]*)\)\s*(?:=>)?\s*{(?:\s*return\s+|\s*)?([\[\]{:}\s\w,]*);?\s*}/.exec(e);else{if(!/(\(.*\)|\w+)\s*(?:=>).*/.test(e))throw new L(/EL01301/,null,[e]);t=/\(?([\[\]{:}\s\w,]*)\)?\s*(?:=>)\s*{?(?:\s*return\s+|\s*)?([\[\]\s\w,]*);?\s*}?/.exec(e)}if(null===t)throw new L(/EL01302/,null,[e]);o=new Function("return ["+t[1]+"]")(),r.params=o,""!==t[2]&&(n=new Function("return "+t[2])()),r.return=n}catch(e){throw new L(/EL01303/,e,[""])}return r}function R(e){var t=[];return"string"==typeof e&&(t=(t=(t=t.concat(["_ALL_","_ANY_","_NON_","_ERR_"])).concat(["_REQ_","_OPT_","_DEF_","_EUM_"])).concat(["_ETC_"])).indexOf(e)>-1}function M(e){var t=[];return"string"==typeof e&&(t=(t=(t=t.concat(["_ALL_","_ANY_"])).concat(["_REQ_","_OPT_","_SEQ_"])).concat(["_ETC_"])).indexOf(e)>-1}function I(e,t){var n=[],r=e,o=t||!1;do{for(var i=Object.getOwnPropertyNames(r),a=0;a<i.length;a++){var s=i[a];-1!==n.indexOf(s)||!o&&Object.prototype.hasOwnProperty(s)||n.push(s)}}while(r=Object.getPrototypeOf(r));return n}function D(e,t){var n,r,o=[],i=[];if(t=!1!==t,"function"!=typeof e)throw new L(/EL0130C/,null,[h(e)]);if(o.push(e),r=function(e){return Object.prototype.hasOwnProperty.call(e,"super")?e.super:j||"function"!=typeof Object.getPrototypeOf?e.__proto__:Object.getPrototypeOf(e)}(e),r!==Function.prototype&&(o=o.concat(D(r,t))),t){n=e._UNION||[];for(var a=0;a<n.length;a++)o=o.concat(D(n[a],t))}for(var s=0;s<o.length;s++){i.indexOf(o[s])<0&&i.push(o[s])}return i}function G(e,t){var n;if("function"!=typeof e)return!1;if("function"!=typeof t&&"string"!=typeof t)return!1;n=D(e,!1);for(var r=0;r<n.length;r++)if("string"==typeof t){if(t===n[r].name)return!0}else if(t===n[r])return!0;return!1}function K(e){return Y(e).$type}function Y(e){var t,n,r,o,i={$type:"",ref:void 0,toString:function(){var e="",t=[];if("array"===this.$type||"choice"===this.$type){for(var n=0;n<this.list.length;n++){var r,o=Y(this.list[n]);if(o.default&&null!==o.default)r="string"===o.$type?"'"+o.default+"'":o.default,t.push(o.$type+"("+r+")");else t.push(o.$type)}e="_OPT_"===this.kind||"_REQ_"===this.kind||"_SEQ_"===this.kind||"_EUM_"===this.kind||"_DEF_"===this.kind?this.$type+"("+this.kind+")["+t.join(", ")+"]":this.$type+"("+this.kind+")"}else e=this.$type,this.default&&null!==this.default&&("string"===this.$type?e+="('"+this.default+"')":e+="("+this.default+")");return e}};if("object"===h(e)&&null!==e&&e.$type){if(i.$type=e.$type,e.default&&(i.default=e.default),e.kind&&(i.kind=e.kind),e.ref&&(i.ref=e.ref),e.list&&(i.list=e.list),e.name&&(i.name=e.name),e.func&&(i.func=e.func),e.params&&(i.params=e.params),e.return&&(i.return=e.return),t=i.$type,n=[],!("string"==typeof t&&(n=(n=(n=(n=(n=n.concat(["null","undefined","number","string","boolean"])).concat(["array","function","object"])).concat(["choice","union","class"])).concat(["symbol","bigint","regexp"])).concat(["etc"])).indexOf(t)>-1))throw new L(/EL01304/,null,[i.$type]);if("array"===i.$type&&(i.kind=i.kind||"_ALL_",!M(i.kind)))throw new L(/EL01305/,null,[i.kind]);if("choice"===i.$type&&!R(i.kind))throw new L(/EL01306/,null,[i.kind]);return i}if(i.ref=e,null===e)i.$type="null";else if(e===Number)i.$type="number",i.default=null;else if(e===String)i.$type="string",i.default=null;else if(e===Boolean)i.$type="boolean",i.default=null;else if(e===Array)i.$type="array",i.kind="_ALL_",i.list=[];else if(e===Function)i.$type="function",i.params=[];else if(e===Object)i.$type="object";else if(e===RegExp)i.$type="regexp",i.default=null;else if(e===Symbol)i.$type="symbol";else if(e===BigInt)i.$type="bigint",i.default=null;else if(e instanceof RegExp)i.$type="regexp",i.default=e;else if(void 0===e)i.$type="undefined";else if("number"==typeof e)i.$type="number",i.default=e;else if("string"==typeof e)i.$type="string",i.default=e;else if("boolean"==typeof e)i.$type="boolean",i.default=e;else if("bigint"==typeof e)i.$type="bigint",i.default=e;else if("symbol"===h(e))i.$type="symbol";else if("function"==typeof e){var a=e._KIND;if(a?(a=a.toLowerCase(),i.$type="function"===a?"function":"class"):i.$type=(r=e.name,""!==(o=r.charAt(0))&&o===o.toUpperCase()?"class":"function"),"function"===i.$type)try{var s=e._TYPE?e._TYPE:C(e.toString());i.params=s.params,i.return=s.return}catch(e){i.params=[]}}else if(Array.isArray(e)){if(1===e.length&&Array.isArray(e[0])?(i.$type="choice",0===e[0].length?i.kind="_ANY_":i.kind=S(e[0][0]),i.list=i.kind?e[0].slice(1):e[0]):(i.$type="array",0===e.length?i.kind="_ANY_":i.kind=S(e[0]),i.list=i.kind?e.slice(1):e),i.kind||(i.kind="_OPT_"),"array"===i.$type&&!M(i.kind))throw new L(/EL01307/,null,[i.kind]);if("choice"===i.$type&&!R(i.kind))throw new L(/EL01308/,null,[i.kind])}else(function(e){return!!(P(e)&&I(e).length>0)})(e)||function(e){return!(!P(e)||0!==Object.keys(e).length||0!==I(e).length)}(e)?i.$type="union":i.$type="object";return i}function q(e,t,n,r){var o,i=Y(e),a=Y(t),s={},l=i.toString(),c=a.toString();if("extType"===(r=r||"extType")&&r||(s["error path"]=r),n=n||0,i.kind&&("_SEQ_"===i.kind||"_OPT_"===i.kind||"_REQ_"===i.kind||"_EUM_"===i.kind||"_DEF_"===i.kind)&&0===i.list.length)throw new L(/EL01201/,s,["extType",l]);if(a.kind&&("_SEQ_"===a.kind||"_OPT_"===a.kind||"_REQ_"===a.kind||"_EUM_"===a.kind||"_DEF_"===a.kind)&&0===a.list.length)throw new L(/EL01201/,s,["tarType",c]);if("choice"===i.$type||"choice"!==a.$type)if(o=i.$type,[].concat(["null","undefined","number","string","boolean"]).concat(["symbol","bigint","regexp","object"]).indexOf(o)>-1){if(void 0!==i.default&&null!==i.default&&!N(i.default,a.default))throw new L(/EL01202/,s,[i.$type,i,a]);if(i.$type!==a.$type)throw new L(/EL01203/,s,[i.$type,a.$type])}else if("array"===i.$type)!function(){if("array"!==a.$type||!Array.isArray(a.list))throw new L(/EL01211/,s,[a.$type]);if("_ALL_"===i.kind)return;if("_ANY_"===i.kind){if("_ANY_"===a.kind)return;if("_ALL_"===a.kind||"_OPT_"===a.kind)throw new L(/EL01212/,s,[c]);return}if("_SEQ_"===i.kind){if(i.kind!==a.kind)throw new L(/EL01213/,s,[a]);if(i.list.length>a.list.length)throw new L(/EL01214/,s,[i.list.length,a.list.length]);for(var e=0;e<i.list.length;e++)try{q(i.list[e],a.list[e],n,r)}catch(t){throw new L(/EL01215/,t,[e])}return}if("_REQ_"===i.kind){if("_ALL_"===a.kind||"_ANY_"===a.kind||"_OPT_"===a.kind)throw new L(/EL01216/,s,[i.$type,c])}else{if("_OPT_"!==i.kind)throw new L(/EL01218/,s,[i.kind]);if("_ALL_"===a.kind||"_ANY_"===a.kind)throw new L(/EL01217/,s,[i.$type,c])}for(var t=0;t<a.list.length;t++){for(var o=!1,l=0;l<i.list.length;l++)try{if(o)break;if("choice"===Y(a.list[t]).$type&&"choice"!==Y(i.list[l]).$type)q({$type:"choice",kind:"_OPT_",list:i.list},a.list[t],n,r);else q(i.list[l],a.list[t],n,r);o=!0}catch(e){continue}if(!o)throw new L(/EL01219/,s,[i,a])}}();else if("choice"===i.$type)!function(){if("_ALL_"===i.kind){if(a.$type==a.$type&&"_ERR_"===a.kind)throw new L(/EL01221/,s,[i.$type,c]);return}if("_ANY_"===i.kind){if("undefined"===a.$type)throw new L(/EL01222/,s,["_ANY_","undefined"]);if(i.$type===a.$type&&("_ALL_"===a.kind||"_OPT_"===a.kind||"_ERR_"===a.kind||"_NON_"===a.kind))throw new L(/EL01223/,s,[c]);return}if("_NON_"===i.kind){if(i.$type!==a.$type||i.kind!==a.kind)throw new L(/EL01224/,s,[c]);return}if("_ERR_"===i.kind){if(i.$type!==a.$type||i.kind!==a.kind)throw new L(/EL01225/,s,[c]);return}if("_REQ_"===i.kind){if(i.$type===a.$type&&("_ALL_"===a.kind||"_ANY_"===a.kind||"_OPT_"===a.kind||"_NON_"===a.kind||"_ERR_"===a.kind))throw new L(/EL01226/,s,[c])}else if("_OPT_"===i.kind){if("undefined"===a.$type)return;if(i.$type===a.$type&&("_ALL_"===a.kind||"_ANY_"===a.kind||"_NON_"===a.kind||"_ERR_"===a.kind))throw new L(/EL01227/,s,[c])}else if("_EUM_"===i.kind){if(i.$type!==a.$type||i.kind!==a.kind)throw new L(/EL01228/,s,[]);for(var e=0;e<i.list.length;e++)if(!A(i.list[e]))throw new L(/EL01229/,s,[e,Y(i.list[e])]);for(var o=0;o<a.list.length;o++)if(!A(a.list[o]))throw new L(/EL0122A/,s,[o,Y(a.list[o])])}else{if("_DEF_"!==i.kind)throw new L(/EL0122E/,s,[i.kind]);if(i.$type!==a.$type||i.kind!==a.kind)throw new L(/EL0122B/,s,[]);if(!A(i.list[0]))throw new L(/EL0122C/,s,[Y(i.list[0])]);if(!A(a.list[0]))throw new L(/EL0122D/,s,[Y(a.list[0])])}for(var l=a.kind?a.list:[t],u=0;u<l.length;u++){for(var f=!1,p=0;p<i.list.length;p++)try{if(f)continue;q(i.list[p],l[u],n,r),f=!0}catch(e){continue}if(!f)throw new L(/EL0122F/,s,[u,i,Y(l[u]).$type])}}();else if("class"===i.$type)!function(){if("class"===a.$type){if(G(a.ref,i.ref))return;if(1===n)try{return q(new i.ref,new a.ref,n,r)}catch(e){throw new L(/EL01231/,e,[])}throw new L(/EL01232/,s,[n])}if("union"===a.$type){if(1===n)try{return q(new i.ref,a.ref,n,r)}catch(e){throw new L(/EL01233/,e,[])}throw new L(/EL01234/,s,[n])}throw new L(/EL01235/,s,[a])}();else if("union"===i.$type)!function(){var t;if("union"!==a.$type)throw new L(/EL01241/,s,[a]);t=I(i.ref);for(var o=0;o<t.length;o++){var l=t[o];if(!(l in a.ref))throw new L(/EL01242/,s,[l,K(e[l])]);try{q(i.ref[l],a.ref[l],n,r)}catch(e){throw new L(/EL01243/,e,[l])}}}();else{if("function"!==i.$type)throw new L(/EL01204/,s,[]);!function(){if("function"!==a.$type)throw new L(/EL01251/,s,[a]);if(i.ref===Function)return;if(i.name){if(i.name===t.name||i.name===a.name||a.func&&i.name===a.func.name)return;throw new L(/EL01252/,s,[i.name,a.name])}if(i.func){if("function"!=typeof a.func)throw new L(/EL01253/,s,[]);if(G(a.func,i.func))return;throw new L(/EL01254/,s,[])}if(!(i.return||i.params&&0!==i.params.length))return;if(void 0===a.params&&void 0===a.return)throw new L(/EL01255/,s,[Y(i.params),K(i.return)]);if(Array.isArray(i.params)&&i.params.length>0)try{q(["_SEQ_"].concat(i.params),["_SEQ_"].concat(a.params),n,r)}catch(e){throw new L(/EL01256/,e,[])}if(i.return)try{q(i.return,a.return,n,r)}catch(e){throw new L(/EL01257/,e,[])}}()}else q({$type:"choice",kind:"_REQ_",list:[e]},t,n,r)}function F(e,t,n,r){var o=Y(e),i=Y(t),a={},s=o.toString(),l=i.toString();if("extType"!==(r=r||"extType")&&(a["error path"]=r),n=n||0,o.kind&&!("_SEQ_"!==o.kind&&"_OPT_"!==o.kind&&"_REQ_"!==o.kind&&"_EUM_"!==o.kind&&"_DEF_"!==o.kind||void 0!==o.ref&&0!==o.list.length))throw new L(/EL01101/,a,["extType",s]);if("null"===o.$type){if(null!==t)throw new L(/EL01102/,a,["null",l])}else if("undefined"===o.$type){if(void 0!==t)throw new L(/EL01102/,a,["undefined",l])}else if("string"===o.$type){if("string"==typeof o.default&&void 0===t&&(t=o.default),"string"!=typeof t)throw new L(/EL01102/,a,["string",l])}else if("number"===o.$type){if("number"==typeof o.default&&void 0===t&&(t=o.default),"number"!=typeof t)throw new L(/EL01102/,a,["number",l])}else if("boolean"===o.$type){if("boolean"==typeof o.default&&void 0===t&&(t=o.default),"boolean"!=typeof t)throw new L(/EL01102/,a,["boolean",l])}else if("bigint"===o.$type){if("bigint"==typeof o.default&&void 0===t&&(t=o.default),"bigint"!=typeof t)throw new L(/EL01102/,a,["bigint",l])}else if("symbol"===o.$type){if("symbol"!==h(t))throw new L(/EL01102/,a,["symbol",l])}else if("regexp"===o.$type){if(o.default&&null!==o.default&&void 0===t&&(t=o.default),!(t instanceof RegExp))throw new L(/EL01102/,a,["regexp",l])}else if("object"===o.$type){if("object"!==i.$type)throw new L(/EL01102/,a,["object",l])}else if("array"===o.$type)!function(){if(!Array.isArray(t))throw new L(/EL01111/,a,[l]);if("_ALL_"===o.kind)return;if("_ANY_"===o.kind){if(0===t.length)throw new L(/EL01112/,a,[t.length]);return}if("_SEQ_"===o.kind){if(o.list.length>t.length)throw new L(/EL01113/,a,[o.list.length,i.list.length]);for(var e=0;e<o.list.length;e++){var s=o.list[e],c=i.list[e];if(A(s)){if(!N(s,c))throw new L(/EL01114/,a,[e,s,c])}else try{F(s,c,n,r)}catch(t){throw new L(/EL01115/,t,[e,K(s)])}}return}if("_REQ_"===o.kind){if(0===t.length)throw new L(/EL01116/,a,[t.length])}else{if("_OPT_"!==o.kind)throw new L(/EL01117/,a,[o.kind]);if(Array.isArray(t)&&0===t.length)return}for(var u=0;u<t.length;u++){for(var f=t[u],p=!1,h=0;h<o.list.length;h++)try{var y=o.list[h];if(!A(y)){F(y,f,n,r),p=!0;break}if(N(y,f)){p=!0;break}}catch(e){continue}if(!p)throw new L(/EL01118/,a,[o.toString(),i.toString()])}}();else if("choice"===o.$type)!function(){if("_ALL_"===o.kind)return;if("_ANY_"===o.kind){if(void 0!==t)return;throw new L(/EL01121/,a,[])}if("_NON_"===o.kind){if(void 0===t)return;throw new L(/EL01122/,[])}if("_ERR_"===o.kind){if(t instanceof Error)return;throw new L(/EL01123/,[])}if("_REQ_"===o.kind);else if("_OPT_"===o.kind){if(void 0===t)return}else if("_EUM_"===o.kind){for(var e=0;e<o.list.length;e++)if(!A(o.list[e]))throw new L(/EL01124/,a,[e,K(o.list[e])])}else{if("_DEF_"!==o.kind)throw new L(/EL01126/,a,[o.kind]);if(!A(o.list[0]))throw new L(/EL01125/,a,[K(o.list[0])]);if(void 0===t)return void(t=o.list[0])}for(var s=0;s<o.list.length;s++)try{var l=o.list[s];if(!A(l))return F(l,t,n,r);if(N(l,t))return}catch(e){continue}throw new L(/EL01127/,a,[o,i])}();else if("class"===o.$type)!function(){if("class"===i.$type){if(void 0===o.ref)return;if(G(i.ref,o.ref))return}else if("object"===h(t)){if(t instanceof e)return;if(("function"!=typeof(l=e)||l!==Number&&l!==String&&l!==Boolean&&l!==Object&&l!==Array&&l!==Function&&l!==RegExp&&l!==Date&&l!==Symbol&&l!==BigInt)&&null!==t&&1===n)try{var s="extType"===r?"<instance>":r+"<instance>";return F(T(e),t,n,s)}catch(e){throw new L(/EL01131/,e)}throw new L(/EL01132/,a,[k(e)])}var l;throw new L(/EL01133/,a,[i])}();else if("union"===o.$type)!function(){var s;if("union"!==i.$type)throw new L(/EL01141/,a,[i]);s=I(o.ref);for(var l=0;l<s.length;l++){var c=s[l],u=Y(e[c]);if("_interface"!==c&&"isImplementOf"!==c){void 0!==u.default&&null!==u.default&&void 0===t[c]&&(t[c]=u.default);try{var f=r+"['"+c+"']";F(e[c],t[c],n,f)}catch(e){throw new L(/EL01143/,e,[c])}}}}();else{if("function"!==o.$type)throw new L(/EL01103/,a,[]);!function(){if("function"!==i.$type)throw new L(/EL01151/,a,[i]);if(o.ref===Function)return;if(o.name){if(o.name===t.name||o.name===i.name||i.func&&o.name===i.func.name)return;throw new L(/EL01152/,a,[o.name,t.name])}if(o.func){if("function"!=typeof i.func)throw new L(/EL01153/,a,[]);if(G(i.func,o.func))return;throw new L(/EL01154/,a,[])}if(!(o.return||o.params&&0!==o.params.length))return;if(void 0===i.params&&void 0===i.return)throw new L(/EL01155/,a,[Y(o.params),K(o.return)]);if(Array.isArray(o.params)&&o.params.length>0)try{q(["_SEQ_"].concat(o.params),["_SEQ_"].concat(i.params),n,r)}catch(e){throw new L(/EL01156/,e,[])}if(o.return)try{q(o.return,i.return,n,r)}catch(e){throw new L(/EL01157/,a,[])}}()}}O.getAllProperties=I,O.deepEqual=function e(t,n){if(t===n)return!0;if(null===t||null===n||h(t)!==h(n))return!1;if("function"==typeof t&&"function"==typeof n)return t.toString()===n.toString();if("object"!==h(t)||"object"!==h(n))return!1;if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}var o=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(n);if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++){var s=o[a];if(-1===i.indexOf(s)||!e(t[s],n[s]))return!1}return!0},O.getTypes=D,O.isProtoChain=G,O.hasType=function(e,t){var n;if("function"!=typeof e)return!1;if("function"!=typeof t&&"string"!=typeof t)return!1;n=D(e);for(var r=0;r<n.length;r++)if("string"==typeof t){if(t===n[r].name)return!0}else if(t===n[r])return!0;return!1},O.typeObject=function e(t){var n={},r=P(t)&&t.$type?t:Y(t);if(n.$type=r.$type,null!==r.default&&void 0!==r.default&&(n.default=r.default),null!==r.kind&&void 0!==r.kind&&(n.kind=r.kind),r.params&&(n.params=r.params),r.return&&(n.return=r.return),r.creator&&(n.creator=r.creator),r._instance&&(n._instance=r._instance),["null","undefined","number","string","boolean","symbol","bigi¡nt","object","regexp"].indexOf(n.$type)>-1)return r.default&&(n.default=r.default),n;if("array"===n.$type||"choice"===n.$type){n.list=[];for(var o=0;o<r.list.length;o++)n.list[o]=e(r.list[o])}if("function"===n.$type){for(var i=0;i<n.params.length;i++)n.params[i]=e(r.params[i]);r.return&&(n.return=e(r.return))}if("class"===n.$type&&"function"==typeof r.ref){n.creator=r.ref.name;var a=T(r.ref);n._instance=e(a)}if("union"===n.$type){n._prop={};for(var s=r.ref||r._prop,l=I(s),c=0;c<l.length;c++){var u=l[c];"_interface"!==u&&"isImplementOf"!==u&&(n._prop[u]=e(s[u]))}}return n},O.typeOf=K,O.extendType=Y,O.allowType=function(e,t,n){try{q(e,t,n)}catch(e){throw new L(/EL0130A/,e)}},O.matchType=function(e,t,n){try{F(e,t,n)}catch(e){throw new L(/EL0130B/,e)}},O.isAllowType=function(e,t,n){try{q(e,t,n)}catch(e){return!1}return!0},O.isMatchType=function(e,t,n){try{return F(e,t,n),!0}catch(e){return!1}};var V=globalThis,Q=!!V.OLD_ENV&&V.OLD_ENV,U={};function B(e){return null!==e&&"object"===h(e)}Array.isArray&&!Q||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),U.getArrayDepth=function e(t,n){var r=0;return n=n||0,t instanceof Array&&10>n&&(r++,n++,r+=e(t[0],n)),r},U.createGuid=function(){function e(e){var t=(Math.random().toString(16)+"000000000").substring(2,10);return e?"-"+t.substring(0,4)+"-"+t.substring(4,8):t}return e()+e(!0)+e(!0)+e()},U.deepCopy=function e(t){var n;if(!B(t))return t;if(t instanceof RegExp)return t;if(n=Array.isArray(t)?[]:{},Array.isArray(t))for(var r=0;r<t.length;r++)n[r]=e(t[r]);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=e(t[o]));return n},U.inherits="function"!=typeof Object.create||Q?function(e,t){if(t){e.super=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}:function(e,t){t&&(e.super=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0,enumerable:!1}}))},U.implements=function(e,t){var n=[],r=0;if("function"!=typeof e)throw new L(/EL01401/,null,[h(e)]);if(!B(t))throw new L(/EL01402/,null,[h(t)]);void 0===t._interface&&Object.defineProperty(t,"_interface",{get:function(){return n},configurable:!1,enumerable:!1}),e._UNION||(e._UNION=[]);for(var o=2;o<arguments.length;o++){if("function"!=typeof arguments[o])throw new L(/EL01403/,null,[o-2,h(arguments[o])]);t._interface.indexOf(arguments[o])<0&&(t._interface.push(arguments[o]),r++)}for(var i=0;i<e._UNION.length;i++)t._interface.indexOf(e._UNION[i])<0&&(t._interface.push(e._UNION[i]),r++);try{for(var a=t._interface.length-r;a<t._interface.length;a++)"interface"===e._KIND?O.allowType(t._interface[a],t,1):O.matchType(t._interface[a],t,1)}catch(n){throw new L(/EL01404/,n,[s(t),s(t._interface[o]),e._KIND||"class"])}function s(e){return"function"==typeof e?e.name:"object"===h(e)?(!Q&&Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor.name:"unknown name"}void 0===t.isImplementOf&&Object.defineProperty(t,"isImplementOf",{value:function(e){if("function"==typeof e){for(var t=0;t<this._interface.length;t++)if(this._interface[t]===e)return!0}else{if("string"!=typeof e)throw new L(/EL01405/,null,[h(e)]);for(var n=0;n<this._interface.length;n++)if(this._interface[n].name===e)return!0}return!1},configurable:!1,enumerable:!1})};var W=function(){function e(){var e={},t=!1;Object.defineProperty(this,"$storage",{get:function(){return e},set:function(t){if("object"!==h(n=t)||null===n)throw new L(/EL01501/,null,[this.constructor.name,t]);var n;e=t},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_list",{get:function(){return Object.keys(this.$storage)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"isLog",{get:function(){return t},set:function(e){if("boolean"!=typeof e)throw new L(/EL01502/,null,[this.constructor.name,e]);t=e}})}function t(e){return"string"==typeof e&&e.length>0}return e._NS="Common",e.prototype.on=function(e,n){if(!t(e))throw new L(/EL01503/,null,[h(e)]);if("function"!=typeof n)throw new L(/EL01504/,null,[h(n)]);"object"!==h(this.$storage[e])&&(this.$storage[e]=[]),-1===this.$storage[e].indexOf(n)&&this.$storage[e].push(n)},e.prototype.addListener=e.prototype.on,e.prototype.once=function(e,n){var r=this;if(!t(e))throw new L(/EL01505/,null,[h(e)]);if("function"!=typeof n)throw new L(/EL01506/,null,[h(n)]);this.on(e,(function t(){r.off(e,t),n.apply(r,arguments)}))},e.prototype.off=function(e,n){if(!t(e))throw new L(/EL01507/,null,[h(e)]);if("function"!=typeof n)throw new L(/EL01508/,null,[h(n)]);if("object"===h(this.$storage[e])){var r=this.$storage[e].indexOf(n);r>-1&&this.$storage[e].splice(r,1)}},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=function(e){e||(this.$storage={}),"object"===h(this.$storage[e])&&delete this.$storage[e]},e.prototype.emit=function(e){var n=[].slice.call(arguments,1),r=[];if(!t(e))throw new L(/EL01509/,null,[h(e)]);if("object"===h(this.$storage[e])){r=this.$storage[e].slice();for(var o=0;o<r.length;o++)if(!1===r[o].apply(this,n))return!1}return this.isLog&&console.log("["+e+"] 이벤트가 밸생하였습니다."),r.length>0||void 0},e}(),z=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.getTypes=function(){throw new L(/EL02111/,null,["IObject"])},e.prototype.instanceOf=function(){throw new L(/EL02112/,null,["IObject"])},e.prototype.equal=function(){throw new L(/EL02113/,null,["IObject"])},e}(),Z=function(){function e(){this._guid=String,this._type=[["_req_",Function,{$type:"class"}]]}return e._NS="Interface",e._KIND="interface",e.prototype.getObject=function(){throw new L(/EL02121/,null,["IMarshal"])},e.prototype.setObject=function(){throw new L(/EL02122/,null,["IMarshal"])},e}(),J=function(){function e(){}return e._KIND="interface",e._NS="Interface",e.prototype.add=function(){throw new L(/EL02161/,null,["ICollection"])},e.prototype.remove=function(){throw new L(/EL02162/,null,["ICollection"])},e.prototype.contains=function(){throw new L(/EL02163/,null,["ICollection"])},e.prototype.indexOf=function(){throw new L(/EL02164/,null,["ICollection"])},e}(),H=function(e){function t(){e.call(this)}return U.inherits(t,e),t._KIND="interface",t._NS="Interface",t.prototype.indexToKey=function(){throw new L(/EL02181/,null,["IPropertyCollection"])},t}(J),X=function(){function e(){this._name=String}return e._NS="Interface",e._KIND="interface",e.prototype.clone=function(){throw new L(/EL02131/,null,["IElement"])},e}(),ee=function(){function e(){this._list=Array,this.count=Number}return e._NS="Interface",e._KIND="interface",e}(),te=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.add=function(){throw new L(/EL02151/,null,["IListControl"])},e.prototype.del=function(){throw new L(/EL02152/,null,["IListControl"])},e.prototype.has=function(){throw new L(/EL02153/,null,["IListControl"])},e.prototype.find=function(){throw new L(/EL02154/,null,["IListControl"])},e}(),ne=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.output=function(){throw new L(/EL02191/,null,["ISerialize"])},e.prototype.load=function(){throw new L(/EL02192/,null,["ISerialize"])},e}(),re=function(e){function t(){e.call(this)}return U.inherits(t,e),t._KIND="interface",t._NS="Interface",t.prototype.insertAt=function(){throw new L(/EL02171/,null,["IArrayCollection"])},t}(J),oe=function(){function e(){var t=this.$createNsRefer(),n=[],r=!1;Object.defineProperty(this,"$storage",{get:function(){return t},set:function(e){t=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_elemTypes",{get:function(){return n},set:function(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(arguments,0);n=t},configurable:!1,enumerable:!0}),Object.defineProperty(this,"_list",{get:function(){var e=this.$storage,t=[],n=[];return function e(r){for(var o in r)if("_type"!==o){var i=r[o];n.push(o),i._type?e(i):t.push(n.join(".")),n.pop()}}(e),t},configurable:!1,enumerable:!0}),Object.defineProperty(this,"count",{get:function(){return this._list.length},configurable:!1,enumerable:!0}),Object.defineProperty(this,"allowOverlap",{get:function(){return r},set:function(e){if("boolean"!=typeof e)throw new L(/EL03311/,null,[h(e)]);r=e},configurable:!1,enumerable:!0}),this._$KEYWORD=["namespace","ns","NS","_type"],U.implements(e,this)}function t(e){return"string"==typeof e&&e.length>0}function n(e){return/^[_a-zA-Z]([_0-9a-zA-Z])*$/.test(e)}function r(e){var r=[];if(""===e)return r;if("string"==typeof e){if(!/^[_a-zA-Z]([.]?[_0-9a-zA-Z])*$/.test(e))throw new L(/EL03312/,null,[e]);r=e.split(".")}else{if(!Array.isArray(e))throw new L(/EL03313/,null,[h(e)]);r=e}for(var o=0;o<r.length;o++){var i=r[o];if(!t(i))throw new L(/EL03314/,null,[o,h(i)]);if(!n(i))throw new L(/EL03315/,null,[o,i])}return r}return e._UNION=[ee,te],e._NS="Meta",e.prototype.$createNsRefer=function(){return{_type:"ns"}},e.prototype._getPathObject=function(e){var n,r,o,i,a={};if("string"==typeof(n=t(e)?e:this.getPath(e)))return o=(r=n.split(".")).pop(),i=r.join("."),a.ns=i,a.key=o,a},e.prototype.init=function(){this.$storage=this.$createNsRefer()},e.prototype.addNamespace=function(e){var t,n=this.$storage;try{t=r(e),this._$KEYWORD.indexOf(t[0])>-1&&(t=t.slice(1));for(var o=0;o<t.length;o+=1)void 0===n[t[o]]&&(n[t[o]]=this.$createNsRefer()),n=n[t[o]]}catch(e){throw new L(/EL03321/,e,[])}},e.prototype.delNamespace=function(e){var t,n=this.$storage;try{t=r(e);for(var o=0;o<t.length;o+=1){var i=t[o];if(!n[i]||"ns"!==n[i]._type)return;o===t.length-1?delete n[i]:n=n[i]}}catch(e){throw new L(/EL03322/,e,[])}},e.prototype.path=function(e){var t,n=this.$storage;if(!e)return n;try{t=r(e);for(var o=0;o<t.length;o+=1){var i=t[o];if(!n[i]||"ns"!==n[i]._type)return;if(o===t.length-1)return n[i];n=n[i]}return}catch(e){throw new L(/EL03323/,e,[])}},e.prototype.add=function(e,t){var o,i,a,s,l=this.$storage;try{if(a=(i=this._getPathObject(e)).key,o=r(s=i.ns),this._elemTypes.length>0&&O.matchType([this._elemTypes],t),!n(a))throw new L(/EL03331/,null,[a]);if(!this.allowOverlap&&this.getPath(t))throw new L(/EL03332/,null,[]);if(0===o.length)return void(l[a]=t);this.addNamespace(s);for(var c=0;c<o.length;c+=1){var u=o[c];c===o.length-1?l[u][a]=t:l=l[u]}}catch(e){throw new L(/EL03333/,e,[])}},e.prototype.del=function(e){var t,n=this.$storage;try{t=r(e);for(var o=0;o<t.length;o+=1){var i=t[o];if(!n[i])return!1;if(o===t.length-1)return delete n[i],!0;n=n[i]}return!1}catch(e){throw new L(/EL03334/,e,[])}},e.prototype.has=function(e){return!(!t(e)||!this.find(e))||"string"==typeof this.getPath(e)},e.prototype.find=function(e){var t,n=this.$storage;try{t=r(e);for(var o=0;o<t.length;o+=1){var i=t[o];if(!n[i])return;if(o===t.length-1)return n[i];n=n[i]}return}catch(e){return}},e.prototype.getPath=function(e){var t=this.$storage,n=[];if(!e)throw new L(/EL03341/,null,[h(e)]);return function t(r){for(var o in r){var i=r[o];if("ns"!==i)if(i&&"ns"===i._type){if(n.push(o),t(i))return!0}else if(i===e)return n.push(o),!0}return n.pop(),!1}(t)?n.join("."):void 0},e.prototype.output=function(e,t){var n,r=[],o={list:r};try{for(var i=0;i<this._list.length;i++){var a=this._list[i],s=this.find(a),l=this._getPathObject(a);n={ns:l.ns,key:l.key,full:a,elem:s},r.push(n)}return"function"==typeof e?e(o,{space:t}):JSON.stringify(o,null,t)}catch(e){throw new L(/EL03342/,e,[e])}},e.prototype.load=function(e,n){var r=[];if(!t(e))throw new L(/EL03343/,null,[h(e)]);try{r="function"==typeof n?n(e):JSON.parse(e,null),this.init();for(var o=0;o<r.list.length;o++){var i=r.list[o],a=i.elem;this.add(i.full,a)}}catch(e){throw new L(/EL03344/,e,[e.message])}},e}(),ie=function(){function e(){}e._NS="Meta";var t=[],n=new oe;function r(e){return"object"===h(e)&&null!==e}function o(e){return"string"==typeof e&&e.length>0}function i(t,n){if(n=n||[],e.isGuidObject(t)&&n.push(t),Array.isArray(t))for(var o=0;o<t.length;o++)r(t[o])&&i(t[o],n);else if(r(t))for(var a in t)r(t[a])&&i(t[a],n);return n}return Object.defineProperty(e,"_list",{get:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},configurable:!1,enumerable:!0}),Object.defineProperty(e,"count",{get:function(){return t.length},configurable:!1,enumerable:!0}),Object.defineProperty(e,"namespace",{get:function(){return n},configurable:!1,enumerable:!0}),e.init=function(){t.length=0,this.namespace.init()},e.register=function(e){var n,r,o;if(!this.isMetaObject(e))throw new L(/EL03211/,null,[e._type,e._guid]);if(this.has(e))throw new L(/EL03212/,null,[e._guid]);n=e._ns||"",r=(o=e._type).name,t.push(e),this.registerClass(o,n,r)},e.release=function(e){var n;if("object"!==h(e)&&"string"!=typeof e)throw new L(/EL03213/,null,[h(e)]);if(!o(n="string"==typeof e?e:e._guid))return!1;for(var r=0;r<t.length;r++)if(t[r]._guid===n)return t.splice(r,1),!0;return!1},e.has=function(e){var n=r(e)?e._guid:e;if(!o(n))return!1;for(var i=0;i<t.length;i++)if(t[i]._guid===n)return!0;return!1},e.find=function(e){var n=r(e)?e._guid:e;if(o(n))for(var i=0;i<t.length;i++)if(t[i]._guid===n)return t[i]},e.isMetaObject=function(e){return!!r(e)&&!(!o(e._guid)||"function"!=typeof e._type)},e.createMetaObject=function(e,t){var n,i,a,s,l,c=t||e,u=[null];if(!r(e))throw new L(/EL03221/,null,[h(e)]);if(!o(e._type))throw new L(/EL03222/,null,[h(e._type)]);if(!r(c))throw new L(/EL03223/,null,[h(c)]);if(n=e._type,a=""!==(i=e._ns||"")?[i,n].join("."):n,"function"!=typeof(s=this.getClass(a)))throw new L(/EL03224/,null,[a,h(s)]);l=Object.prototype.hasOwnProperty.call(s,"_PARAMS")?s._PARAMS:[];for(var f=0;f<l.length;f++){var p,y=l[f],d=e[y];p=r(d)&&d.$ref?this.findSetObject(d.$ref,c):d,e[y]&&u.push(p)}return new(Function.prototype.bind.apply(s,u))},e.createReferObject=function(e){if(!r(e))throw new L(/EL03225/,null,[h(e)]);if(!o(e._guid))throw new L(/EL03226/,null,[h(e._guid)]);return{$ref:e._guid}},e.createNsReferObject=function(e){var t,n;if("function"!=typeof e)throw new L(/EL03227/,null,[h(e)]);return this.findClass(e)||(t=e._NS||"",n=e.name,this.registerClass(e,t,n)),{$ns:this.findClass(e)}},e.setMetaObject=function(e,t){if(!r(e))throw new L(/EL03241/,null,[h(e)]);if(!r(t))throw new L(/EL03242/,null,[h(t)]);if(!o(t._guid))throw new L(/EL03243/,null,[h(t._guid)]);return e.$set=t._guid,e},e.validObject=function(e){var t,n=this;if(!r(e))throw new L(/EL03251/,null,[h(e)]);return t=i(e),!!(function(){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)if(t[e]._guid===t[n]._guid&&e!==n)return!1;return!0}()&&function e(i){if(i.$ref&&!o(i.$ref,t))return!1;if(i.$set&&!o(i.$set,t))return!1;if(i.$ns&&!n.getClass(i.$ns))return!1;if(Array.isArray(i)){for(var a=0;a<i.length;a++)if(r(i[a])&&!e(i[a]))return!1}else for(var s in i)if(r(i[s])&&!e(i[s]))return!1;return!0}(e)&&function t(n){if(Array.isArray(n._elem)&&Array.isArray(n._key)&&n._elem.length!==n._key.length)return!1;if(Array.isArray(n)){for(var o=0;o<n.length;o++)if(r(n[o])&&!t(n[o]))return!1}else for(var i in e)if(r(n[i])&&!t(n[i]))return!1;return!0}(e));function o(e,t){for(var n=0;n<t.length;n++)if(t[n]._guid===e)return t[n]}},e.isGuidObject=function(e){return!!r(e)&&!(!o(e._guid)||!o(e._type))},e.hasGuidObject=function(e,t){var n=r(e)?e._guid:e,a=[];if(!o(n))throw new L(/EL03252/,null,[h(n)]);Array.isArray(t)?a=t:a.push(t);for(var s=0;s<a.length;s++){var l=a[s],c=i(l);if(!r(l))throw new L(/EL03253/,null,[s,h(n)]);for(var u=0;u<c.length;u++)if(c[u]._guid===n)return!0}return!1},e.hasRefer=function(e){if(!r(e))throw new L(/EL03254/,null,[h(e)]);if(!this.isGuidObject(e))throw new L(/EL03255/,null,[e._type,e._guid]);return function e(t){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"===h(t[n])&&e(t[n]))return!0}else{if(t.$ref&&o(t.$ref))return!0;if(t.$ns&&o(t.$ns))return!0;for(var i in t)if(r(t[i])&&e(t[i]))return!0}return!1}(e)},e.findSetObject=function(t,n){var i=r(t)?t._guid:t,a=n;if(!o(i))throw new L(/EL03256/,null,[i]);if(!r(a))throw new L(/EL03257/,null,[h(a)]);return function t(n){var r;if(Array.isArray(n)){for(var o=0;o<n.length;o++)if("object"===h(n[o])&&(r=t(n[o])))return r}else{if(n._guid&&n._guid===i)return r=n.$set?e.find(n.$set):void 0;for(var a in n)if("object"===h(n[a])&&(r=t(n[a])))return r}return r}(a)},e.transformRefer=function(e){var t,n,o=this;if(!r(e))throw new L(/EL03244/,null,[h(e)]);return t=i(e),function e(t,n,i){if(i=i||"",Array.isArray(t))for(var a=0;a<t.length;a++)"object"===h(t[a])&&e(t[a],n);else for(var s in t)if(r(t[s]))if(t[s].$ns){var l=o.getClass(t[s].$ns);if("function"!=typeof l)throw new L(/EL03245/,null,[i,s]);t[s]=l}else e(t[s],n,i?i+"."+s:s)}(n=U.deepCopy(e),t),n},e.registerClass=function(e,t,n){var i,a;if(!r(e)&&"function"!=typeof e)throw new L(/EL03231/,null,[h(e)]);if(t&&"string"!=typeof t)throw new L(/EL03232/,null,[h(t)]);if(n&&!o(n))throw new L(/EL03233/,null,[h(n)]);(i=n?t.length>0?t+"."+n:n:t,"function"!=typeof(a=e)||a!==Number&&a!==String&&a!==Boolean&&a!==Function&&a!==Object&&a!==Array&&a!==RegExp&&a!==Date&&a!==Symbol&&a!==BigInt)&&("function"!=typeof globalThis[i]&&(this.namespace.find(i)||this.namespace.add(i,e)))},e.releaseClass=function(e){if(!o(e))throw new L(/EL03234/,null,[h(e)]);return"function"==typeof globalThis[e]||this.namespace.del(e)},e.findClass=function(e){var t;if("function"!=typeof e)throw new L(/EL03235/,null,[h(e)]);return t=e.name,"function"==typeof globalThis[t]?t:this.namespace.getPath(e)},e.getClass=function(e){if(!o(e))throw new L(/EL03236/,null,[h(e)]);return"function"==typeof globalThis[e]?globalThis[e]:this.namespace.find(e)},e.loadMetaObject=function(e,t){var n,r,o=e;if("string"!=typeof e)throw new L(/EL03246/,null,["undefined"==typeof str?"undefined":h(str)]);if(o="function"==typeof t?t(o):JSON.parse(o,null),this.has(o))return this.find(o._guid);if(!this.isGuidObject(o))throw new L(/EL03247/,null,[o._type,o._guid]);return n=this.transformRefer(o),(r=this.createMetaObject(n)).setObject(n),r},e}(),ae=function(){function e(){var t,n;if(Object.defineProperty(this,"_guid",{get:function(){return t||(t=U.createGuid()),t},set:function(e){t=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_type",{get:function(){return(this.__proto__||Object.getPrototypeOf(this)).constructor},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_ns",{get:function(){return n},set:function(e){n=e},configurable:!1,enumerable:!1}),Object.prototype.hasOwnProperty.call(this._type,"_KIND")){var r=this._type._KIND.toLowerCase();if(["abstract","interface","enum","function"].indexOf(r)>-1)throw new L(/EL03111/,null,[this._type.name,r])}this._type&&this._type._NS&&(this._ns=this._type._NS),ie.register(this),U.implements(e,this)}function t(e){return"object"===h(e)&&null!==e}return e._UNION=[z,Z],e._NS="Meta",e._PARAMS=[],e.prototype.equal=function(n){return function(n,r){if(n===r)return!0;if(n instanceof e&&r instanceof e){var o=n.getObject(2),i=r.getObject(2);return O.deepEqual(o,i)}return!(!t(n)||!t(r))&&O.deepEqual(n,r)}(this,n)},Object.defineProperty(e.prototype,"equal",{enumerable:!1}),e.prototype.getTypes=function(){return function e(t){var n=[],r=t.__proto__||Object.getPrototypeOf(t);r&&(n.push(r.constructor),n=n.concat(e(r)));return n}(this)},Object.defineProperty(e.prototype,"getTypes",{enumerable:!1}),e.prototype.instanceOf=function(e){var t=this,n=this._interface||this._type._UNION;return"string"==typeof e?function(e){for(var r=t.getTypes(),o=0;o<r.length;o++)if(e===r[o].name)return!0;for(var i=0;i<n.length;i++)if(e===n[i].name)return!0;return!1}(e):"function"==typeof e&&function(e){for(var r=t.getTypes(),o=0;o<r.length;o++)if(e===r[o])return!0;for(var i=0;i<n.length;i++)if(e===n[i])return!0;return!1}(e)},Object.defineProperty(e.prototype,"instanceOf",{enumerable:!1}),e.prototype.getObject=function(e){var t=e||0,n={};return t<2&&t>-1&&(n._guid=this._guid),n._type=this._type._NS?this._type._NS+"."+this._type.name:this._type.name,n},Object.defineProperty(e.prototype,"getObject",{enumerable:!1}),e.prototype.setObject=function(e,n){var r=n||e,o=this._type._NS?this._type._NS+"."+this._type.name:this._type.name;if(!t(e))throw new L(/EL03112/,null,[h(e)]);if(e._type!==o)throw new L(/EL03113/,null,[e._type,o]);if(!ie.isGuidObject(r))throw new L(/EL03114/,null,[n._type,n._guid]);r.__TRANSFORM_REFER||((r=ie.transformRefer(r)).__TRANSFORM_REFER=!0),ie.setMetaObject(e,this)},Object.defineProperty(e.prototype,"setObject",{enumerable:!1}),e}(),se=function(e){function t(n){var r;e.call(this),Object.defineProperty(this,"_name",{get:function(){return r},set:function(e){if("string"!=typeof e)throw new L(/EL03121/,null,["undefined"==typeof val?"undefined":h(val)]);if(0===e.length)throw new L(/EL03122/,null,[]);r=e},configurable:!1,enumerable:!1}),this._name=n,U.implements(t,this)}return U.inherits(t,e),t._UNION=[X],t._NS="Meta",t._PARAMS=["name"],t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n);return r.name=this._name,r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n),this._name=t.name},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.clone=function(){return new t(this._name)},Object.defineProperty(t.prototype,"clone",{enumerable:!1}),t}(ae),le=function(e){function t(n){e.call(this);var r,o=[],i=new W,a=[],s=[],l=[];Object.defineProperty(this,"$KEYWORD",{get:function(){return o},set:function(e){o=o.concat(e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$event",{get:function(){return i},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$elements",{get:function(){return a},set:function(e){a=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$descriptors",{get:function(){return s},set:function(e){s=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_owner",{get:function(){return r},set:function(e){r=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_elemTypes",{get:function(){return l},set:function(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(arguments,0),n=t.length>0&&"string"==typeof t[0]?t[0]:"";t.length>0&&null===/^_[a-zA-Z]+_/.exec(n)&&(t=["_req_"].concat(t)),l=t},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_list",{get:function(){for(var e=[],t=0;t<a.length;t++)e.push(this.$elements[t]);return e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"count",{get:function(){return this.$elements.length},enumerable:!1,configurable:!1}),Object.defineProperty(this,"length",{get:function(){return this.$elements.length},enumerable:!1,configurable:!1}),Object.defineProperty(this,"onAdd",{set:function(e){this.$event.on("add",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onAdded",{set:function(e){this.$event.on("added",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onRemove",{set:function(e){this.$event.on("remove",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onRemoved",{set:function(e){this.$event.on("removed",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onClear",{set:function(e){this.$event.on("clear",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onCleared",{set:function(e){this.$event.on("cleared",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onChanging",{set:function(e){this.$event.on("changing",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onChanged",{set:function(e){this.$event.on("changed",e)},configurable:!1,enumerable:!1}),this._owner=n||null,this.$KEYWORD=["$event","_owner","$elements","$descriptors","_elemTypes","_list","count","length","$KEYWORD"],this.$KEYWORD=["onAdd","onAdded","onRemove","onRemoved","onClear","onCleared","onChanging","onChanged"],this.$KEYWORD=["_onAdd","_onAdded","_onRemove","_onRemoved","_onClear","_onCleared","_onChanging","_onChanged"],this.$KEYWORD=["_getPropDescriptor","getObject","setObject","_guid","_type"],this.$KEYWORD=["_remove","remove","removeAt","contains","indexOf","add","clear"],U.implements(t,this)}return U.inherits(t,e),t._UNION=[J,ee],t._NS="Collection",t._PARAMS=["_owner"],t._KIND="abstract",t.prototype._onAdd=function(e,t){return this.$event.emit("add",e,t,this)},Object.defineProperty(t.prototype,"_onAdd",{enumerable:!1}),t.prototype._onAdded=function(e,t){return this.$event.emit("added",e,t,this)},Object.defineProperty(t.prototype,"_onAdded",{enumerable:!1}),t.prototype._onRemove=function(e,t){return this.$event.emit("remove",e,t,this)},Object.defineProperty(t.prototype,"_onRemove",{enumerable:!1}),t.prototype._onRemoved=function(e,t){return this.$event.emit("removed",e,t,this)},Object.defineProperty(t.prototype,"_onRemoved",{enumerable:!1}),t.prototype._onClear=function(){return this.$event.emit("clear",this)},Object.defineProperty(t.prototype,"_onClear",{enumerable:!1}),t.prototype._onCleared=function(){return this.$event.emit("cleared",this)},Object.defineProperty(t.prototype,"_onCleared",{enumerable:!1}),t.prototype._onChanging=function(e,t,n){return this.$event.emit("changing",e,t,n,this)},Object.defineProperty(t.prototype,"_onChanging",{enumerable:!1}),t.prototype._onChanged=function(e,t,n){return this.$event.emit("changed",e,t,n,this)},Object.defineProperty(t.prototype,"_onChanged",{enumerable:!1}),t.prototype._getPropDescriptor=function(e,t){return"boolean"!=typeof t&&(t=!0),{get:function(){return this.$elements[e]},set:function(t){var n=this.$elements[e];this._elemTypes.length>0&&O.matchType([this._elemTypes],t),this._onChanging(t,n,e),this.$elements[e]=t,this._onChanged(t,n,e)},configurable:!0,enumerable:t}},Object.defineProperty(t.prototype,"_getPropDescriptor",{enumerable:!1}),t.prototype._remove=function(){throw new L(/EL04111/,null,[])},Object.defineProperty(t.prototype,"_remove",{enumerable:!1}),t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=[];O.deepEqual(this.$event.$storage,{})||(r.$storage=this.$event.$storage),o<2&&o>-1&&this._owner&&(r._owner=ie.createReferObject(this._owner));for(var a=0;a<this._elemTypes.length;a++){var s=this._elemTypes[a];"function"==typeof s?i.push(ie.createNsReferObject(s)):i.push(s)}return r._elemTypes=i,r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){var r;e.prototype.setObject.call(this,t,n);var o=n||t;if(this.clear(),t.$storage&&(this.$event.$storage=t.$storage),t._owner){if(!(r=ie.findSetObject(t._owner.$ref,o)))throw new L(/EL04112/,null,[t._owner.$ref]);this._owner=r}Array.isArray(t._elemTypes)&&t._elemTypes.length>0&&(this._elemTypes=t._elemTypes)},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.remove=function(e){var t=this.$elements.indexOf(e);return t>=0&&this.removeAt(t)?t:-1},Object.defineProperty(t.prototype,"remove",{enumerable:!1}),t.prototype.removeAt=function(e){var t;if("number"!=typeof e)throw new L(/EL04113/,null,[h(e)]);return!(e<0)&&(t=this.$elements[e],this.$elements.length>e&&(!1!==this._onRemove(t,e)&&(!!this._remove(e)&&(this._onRemoved(t,e),!0))))},Object.defineProperty(t.prototype,"removeAt",{enumerable:!1}),t.prototype.contains=function(e){return this.$elements.indexOf(e)>-1},Object.defineProperty(t.prototype,"contains",{enumerable:!1}),t.prototype.indexOf=function(e){return this.$elements.indexOf(e)},Object.defineProperty(t.prototype,"indexOf",{enumerable:!1}),t.prototype.add=function(){throw new L(/EL04114/,null,[])},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.clear=function(){throw new L(/EL04115/,null,[])},Object.defineProperty(t.prototype,"clear",{enumerable:!1}),t}(ae),ce=function(e){function t(n){e.call(this,n),this.$KEYWORD=["insertAt"],U.implements(t,this)}function n(e){return"object"===h(e)&&null!==e}return U.inherits(t,e),t._UNION=[re],t._NS="Collection",t._PARAMS=["_owner"],t.prototype._remove=function(e){var t=this.count-1;if(this.$elements.splice(e,1),this.$descriptors.splice(e,1),e<t){for(var n=e;n<t;n++){var r=this.$descriptors[n]?this.$descriptors[n]:this._getPropDescriptor(n);Object.defineProperty(this,[n],r)}delete this[t]}else delete this[e];return!0},Object.defineProperty(t.prototype,"_remove",{enumerable:!1}),t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=n?[].concat(n,r):[].concat(r);if(this.$descriptors.length>0){r._desc=[];for(var a=0;a<this.$descriptors.length;a++)r._desc.push(this.$descriptors[a])}r._elem=[];for(var s=0;s<this.$elements.length;s++){var l=this.$elements[s];l instanceof ae?ie.hasGuidObject(l,i)?r._elem.push(ie.createReferObject(l)):r._elem.push(l.getObject(o,i)):r._elem.push(l)}return r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r=n||t;if(Array.isArray(t._desc)&&t._desc.length>0)for(var o=0;o<t._desc.length;o++)this.$descriptors.push(t._desc[o]);for(var i=0;i<t._elem.length;i++)Object.defineProperty(this,[i],this._getPropDescriptor(i));for(var a=0;a<t._elem.length;a++){var s=t._elem[a];if(ie.isGuidObject(s)){var l=ie.createMetaObject(s,r);l.setObject(s,r),this.$elements.push(l)}else if(s.$ref){var c=ie.findSetObject(s.$ref,r);if(!c)throw new L(/EL04211/,null,[a,s.$ref]);this.$elements.push(c)}else this.$elements.push(s)}},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.add=function(e,t){var n=this.count;return this.insertAt(n,e,t),n},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.clear=function(){try{if(!1===this._onClear())return!1;for(var e=0;e<this.count;e++)delete this[e];return this.$elements=[],this.$descriptors=[],this._onCleared(),!0}catch(e){return console.error(e),!1}},Object.defineProperty(t.prototype,"clear",{enumerable:!1}),t.prototype.insertAt=function(e,t,r){try{var o=this.count;if("number"!=typeof e)throw new L(/EL04212/,null,[h(e)]);if(o<e)throw new L(/EL04213/,null,[e,o]);if(e<0)throw new L(/EL04214/,null,[e]);if(this._elemTypes.length>0&&O.matchType([this._elemTypes],t),n(r)&&!1===r.configurable&&console.warn(v.get("WS011",["configurable = false","element"])),n(r)&&!1===r.writable&&console.warn(v.get("WS011",["writable = false","element"])),!1===this._onAdd(t,e))return!1;this.$elements.splice(e,0,t),this.$descriptors.splice(e,0,r),n(r)?Object.defineProperty(this,[e],r):Object.defineProperty(this,[e],this._getPropDescriptor(e));for(var i=e+1;i<this.count;i++){var a=this.$descriptors[i]?this.$descriptors[i]:this._getPropDescriptor(i);Object.defineProperty(this,[i],a)}return this._onAdded(t,e),!0}catch(n){throw new L(/EL04215/,n,[e,t])}},Object.defineProperty(t.prototype,"insertAt",{enumerable:!1}),t.prototype.map=function(e,t){var n=[];if("function"!=typeof e)throw new L(/EL04116/,null,[h(e)]);for(var r=0;r<this.length;r++)n[r]=e.call(t||this,this[r],r,this._list);return n},Object.defineProperty(t.prototype,"map",{enumerable:!1}),t.prototype.filter=function(e,t){var n=[];if("function"!=typeof e)throw new L(/EL04117/,null,[h(e)]);for(var r=0;r<this.length;r++)e.call(t||this,this[r],r,this._list)&&n.push(this[r]);return n},Object.defineProperty(t.prototype,"filter",{enumerable:!1}),t.prototype.reduce=function(e,t){var n=t;if("function"!=typeof e)throw new L(/EL04118/,null,[h(e)]);for(var r=0;r<this.length;r++)n=n?e(n,this[r],r,this._list):this[r];return n},Object.defineProperty(t.prototype,"reduce",{enumerable:!1}),t.prototype.find=function(e,t){if("function"!=typeof e)throw new L(/EL04119/,null,[h(e)]);for(var n=0;n<this.length;n++)if(e.call(t||this,this[n],n,this._list))return this[n]},Object.defineProperty(t.prototype,"find",{enumerable:!1}),t.prototype.forEach=function(e,t){if("function"!=typeof e)throw new L(/EL041110/,null,[h(e)]);for(var n=0;n<this.length;n++)e.call(t||this,this[n],n,this._list)},Object.defineProperty(t.prototype,"forEach",{enumerable:!1}),t.prototype.some=function(e,t){if("function"!=typeof e)throw new L(/EL041111/,null,[h(e)]);for(var n=0;n<this.length;n++)if(e.call(t||this,this[n],n,this._list))return!0;return!1},Object.defineProperty(t.prototype,"some",{enumerable:!1}),t.prototype.every=function(e,t){if("function"!=typeof e)throw new L(/EL041112/,null,[h(e)]);for(var n=0;n<this.length;n++)if(!e.call(t||this,this[n],n,this._list))return!1;return!0},Object.defineProperty(t.prototype,"every",{enumerable:!1}),t.prototype.findIndex=function(e,t){if("function"!=typeof e)throw new L(/EL041113/,null,[h(e)]);for(var n=0;n<this.length;n++)if(e.call(t||this,this[n],n,this._list))return n;return-1},Object.defineProperty(t.prototype,"findIndex",{enumerable:!1}),t}(le),ue=function(e){function t(n){e.call(this,n);var r=[];Object.defineProperty(this,"$keys",{get:function(){return r},set:function(e){r=e},configurable:!1,enumerable:!1}),this.$KEYWORD=["$keys","indexOf","exists","indexToKey"],U.implements(t,this)}function n(e){return"object"===h(e)&&null!==e}function r(e){return"string"==typeof e&&e.length>0}return U.inherits(t,e),t._UNION=[H],t._NS="Collection",t._PARAMS=["_owner"],t.prototype._remove=function(e){var t=this.count-1,n=this.indexToKey(e);if(delete this[n],this.$elements.splice(e,1),this.$keys.splice(e,1),this.$descriptors.splice(e,1),e<t){for(var r=e;r<t;r++)n=this.indexToKey(r),Object.defineProperty(this,[r],this.$descriptors[r]?this.$descriptors[r]:this._getPropDescriptor(r,!1)),Object.defineProperty(this,n,this.$descriptors[r]?this.$descriptors[r]:this._getPropDescriptor(r));delete this[t]}else delete this[e];return!0},Object.defineProperty(t.prototype,"_remove",{enumerable:!1}),t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=n?[].concat(n,r):[].concat(r);if(this.$descriptors.length>0){r._desc=[];for(var a=0;a<this.$descriptors.length;a++)r._desc.push(this.$descriptors[a])}r._elem=[];for(var s=0;s<this.count;s++){var l=this.$elements[s];l instanceof ae?ie.hasGuidObject(l,i)?r._elem.push(ie.createReferObject(l)):r._elem.push(l.getObject(o,i)):r._elem.push(l)}r._key=[];for(var c=0;c<this.$keys.length;c++){var u=this.$keys[c];r._key.push(u)}return r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r=n||t;if(t._elem.length!==t._key.length)throw new L(/EL04221/,null,[t._elem.length,t._key.length]);if(Array.isArray(t._desc)&&t._desc.length>0){if(t._elem.length!==t._desc.length)throw new L(/EL04222/,null,[t._elem.length,t._desc.length]);for(var o=0;o<t._desc.length;o++)this.$descriptors.push(t._desc[o])}this.$keys=[];for(var i=0;i<t._key.length;i++){var a=t._key[i];this.$keys.push(a),Object.defineProperty(this,[i],this._getPropDescriptor(i,!1)),Object.defineProperty(this,a,this._getPropDescriptor(i))}for(var s=0;s<t._elem.length;s++){var l=t._elem[s];if(ie.isGuidObject(l)){var c=ie.createMetaObject(l,r);c.setObject(l,r),this.$elements.push(c)}else if(l.$ref){var u=ie.findSetObject(l.$ref,r);if(!u)throw new L(/EL04223/,null,[s,l.$ref]);this.$elements.push(u)}else this.$elements.push(l)}},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.add=function(e,t,o){try{var i=this.count,a=/^[a-zA-Z_][a-zA-Z0-9_]*/;if(!r(e))throw new L(/EL04225/,null,[e]);if(!a.test(e))throw new L(/EL04226/,null,[e,a.source]);if(this.$KEYWORD.indexOf(e)>-1)throw new L(/EL04227/,null,[e]);if(this.exists(e))throw new L(/EL04228/,null,[e]);return this._elemTypes.length>0&&O.matchType([this._elemTypes],t),n(o)&&!1===o.configurable&&console.warn(v.get("WS011",["configurable = true","element"])),n(o)&&!1===o.writable&&console.warn(v.get("WS011",["writable = true","element"])),!1===this._onAdd(t,i)?-1:(this.$elements.push(t),this.$keys.push(e),this.$descriptors.push(o),n(o)?(Object.defineProperty(this,[i],o),Object.defineProperty(this,e,o)):(Object.defineProperty(this,[i],this._getPropDescriptor(i,!1)),Object.defineProperty(this,e,this._getPropDescriptor(i))),this._onAdded(t,i),i)}catch(n){throw new L(/EL04229/,n,[e,t])}},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.clear=function(){try{if(!1===this._onClear())return!1;for(var e=0;e<this.count;e++){var t=this.indexToKey(e);delete this[e],delete this[t]}return this.$elements=[],this.$descriptors=[],this.$keys=[],this._onCleared(),!0}catch(e){return console.error(e),!1}},Object.defineProperty(t.prototype,"clear",{enumerable:!1}),t.prototype.keyToIndex=function(e){if(!r(e))throw new L(/EL04224/,null,[h(e)]);return this.$keys.indexOf(e)},Object.defineProperty(t.prototype,"keyToIndex",{enumerable:!1}),t.prototype.indexToKey=function(e){if("number"!=typeof e)throw new L(/EL0422A/,null,[h(e)]);return this.$keys[e]},Object.defineProperty(t.prototype,"indexToKey",{enumerable:!1}),t.prototype.exists=function(e){if(!r(e))throw new L(/EL0422B/,null,[h(e)]);return Object.prototype.hasOwnProperty.call(this,e)},Object.defineProperty(t.prototype,"exists",{enumerable:!1}),t.prototype.map=function(e,t){var n=[];if("function"!=typeof e)throw new L(/EL04116/,null,[h(e)]);for(var r=0;r<this.length;r++){var o=this.indexToKey(r);n[r]=e.call(t||this,this[r],r,o,this._list)}return n},Object.defineProperty(t.prototype,"map",{enumerable:!1}),t.prototype.filter=function(e,t){var n=[];if("function"!=typeof e)throw new L(/EL04117/,null,[h(e)]);for(var r=0;r<this.length;r++){var o=this.indexToKey(r);e.call(t||this,this[r],r,o,this._list)&&n.push(this[r])}return n},Object.defineProperty(t.prototype,"filter",{enumerable:!1}),t.prototype.reduce=function(e,t){var n=t;if("function"!=typeof e)throw new L(/EL04118/,null,[h(e)]);for(var r=0;r<this.length;r++){var o=this.indexToKey(r);n=n?e(n,this[r],r,o,this._list):this[r]}return n},Object.defineProperty(t.prototype,"reduce",{enumerable:!1}),t.prototype.find=function(e,t){if("function"!=typeof e)throw new L(/EL04119/,null,[h(e)]);for(var n=0;n<this.length;n++){var r=this.indexToKey(n);if(e.call(t||this,this[n],n,r,this._list))return this[n]}},Object.defineProperty(t.prototype,"find",{enumerable:!1}),t.prototype.forEach=function(e,t){if("function"!=typeof e)throw new L(/EL041110/,null,[h(e)]);for(var n=0;n<this.length;n++){var r=this.indexToKey(n);e.call(t||this,this[n],n,r,this._list)}},Object.defineProperty(t.prototype,"forEach",{enumerable:!1}),t.prototype.some=function(e,t){if("function"!=typeof e)throw new L(/EL041111/,null,[h(e)]);for(var n=0;n<this.length;n++){var r=this.indexToKey(n);if(e.call(t||this,this[n],n,r,this._list))return!0}return!1},Object.defineProperty(t.prototype,"some",{enumerable:!1}),t.prototype.every=function(e,t){if("function"!=typeof e)throw new L(/EL041112/,null,[h(e)]);for(var n=0;n<this.length;n++){var r=this.indexToKey(n);if(!e.call(t||this,this[n],n,r,this._list))return!1}return!0},Object.defineProperty(t.prototype,"every",{enumerable:!1}),t.prototype.findIndex=function(e,t){if("function"!=typeof e)throw new L(/EL041113/,null,[h(e)]);for(var n=0;n<this.length;n++){var r=this.indexToKey(n);if(e.call(t||this,this[n],n,r,this._list))return n}return-1},Object.defineProperty(t.prototype,"findIndex",{enumerable:!1}),t}(le),fe={EL02200:"---- Interface.* ----",EL02210:"---- i-control-export.js ----",EL02211:"write(opt): object is an abstract method. '$1' must be implemented",EL02220:"---- i-control-import.js ----",EL02221:"read(object) is an abstract method. '$1' must be implemented",EL02230:"---- i-control-group.js ----",EL02231:"merge(any, opt) is an abstract method. '$1' must be implemented,",EL02232:"Copy(filter) is an abstract method. '$1' must be implemented,",EL02240:"---- i-control-schema.js ----",EL02241:"readSchema(json) is an abstract method. '$1' must be implemented",EL02242:"writeSchema(opt): object is an abstract method. '$1' must be implemented",EL02250:"---- i-transaction.js ----",EL02251:"AcceptChanges() is an abstract method. '$1' must be implemented",EL02252:"rejectChanges() is an abstract method. '$1' must be implemented",EL05100:"---- Meta.Entity.* ----",EL05110:"---- BaseColumn ----",EL05111:"$1._entity value is not an instance of [MetaElement]",EL05112:"$1.columnName is of type 'string'. typeof columnName = '$2'",EL05113:"Existing $1.columnName'$2'",EL05114:"Could not set columnName because $1.alias '$2' already exists",EL05115:"$1.alias is of type 'string'. typeofalias = '$2'",EL05116:"Existing $1.alias '$2'",EL05117:"$1.caption is of type 'string'. typeofcaption = '$2'",EL05118:"setObject(oGuid, origin); oGuid.['_entity'] guid not found. name = '$1', guid = '$2'",EL05119:"clone() is an abstract method. It must be inherited and implemented.",EL05120:"---- ObjectColumn ----",EL05121:"_load(prop); prop is of type 'object', type of prop = '$2'",EL05122:"setObject(oGuid, origin); oGuid.['default'] guid not found: guid = '$1'",EL05123:"setObject(oGuid, origin); oGuid.['value'] guid not found: guid = '$1'",EL05130:"---- MetaColumn ----",EL05131:"$1.required is of type 'boolean', type of = '$2'",EL05132:"$1.isNullPass is of type 'boolean'. typeofisNullPass = '$2' TODO: removed",EL05133:"The array element of $1.constraits is of type 'function' | {regex: RegExp, msg: string}. typeof [$2].regex = '$3', [$2].msg = '$4'",EL05134:"$1.getter is of type 'function', type of getter = '$2'",EL05135:"$1.setter is of type 'function', type of setter = '$2'",EL05136:"addConstraint (regex, msg, code, condition); regex is not a RegExp instance",EL05137:"addConstraint(regex, msg, code, condition); msg 는 'string' 타입입니다. typeof msg = '$1'",EL05138:"valid(value); value is a required value. columnName = '$1' ",EL05139:"valid(value); function constraint failed. columnName = '$1' ",EL0513A:"valid(value); regular expression constraint failed. Column name = '$1', msg = '$2'",EL05140:"---- BaseColumnCollection ----",EL05141:"$1._baseType is of type 'function', type of getter = '$2'",EL05142:"The prototype of $1._baseType [BaseColumn] must be connected (inheritance), ",EL05143:"add(name, vlaue); cannot add columnColleciton because _onwer rows exist. _onwer.rows.count = '$1'",EL05144:"add(name, vlaue); cannot be added because '$2' exists in '$1'",EL05145:"add(name, vlaue); cannot be added because alias '$2' exists in '$1'",EL05146:"removeAt(idx); cannot remove columnColleciton because _onwer rows exist. _onwer.rows.count = '$1'",EL05147:"addValue(name, value) is an abstract method. Must be implemented",EL05148:"Column collection cannot use setter property. Add(), remove() method must be used",EL05150:"---- MetaTableColumnCollection ----",EL05151:"add(any); any 는 'string' | [BaseColumn] 타입입니다. typeof any = '$1'",EL05152:"addValue(name, value); name 은 'string' 타입입니다. typeof name = '$1'",EL05160:"---- MetaViewColumnCollection ----",EL05161:"add(any, refCol); refCol value is not of type [BaseColumnCollection",EL05162:"add(any, refCol); any 는 'string' | [BaseColumn] 타입입니다. typeof any = '$1'",EL05163:"addValue(name, value, refCol); name 은 'string' 타입입니다. typeof name = '$1'",EL05164:"addEntity(entity); entity value is not of type [BaseEntity",EL05200:"",EL05210:"---- MetaRow ----",EL05211:"$1.constructor(entity) value is not of type [BaseEntity",EL05212:"setObject(oGuid, origin); oGuid['_elem'].length = '$1' length and oGuid['_key'].length = '$2' length are different.",EL05213:"setObject(oGuid, origin); oGuid['_elem']['$1'] guid not found. guid = '$2'",EL05214:"changeKey(oldKey, newKey); parameter '$1' is not of type 'string'",EL05215:"changeKey(oldKey, newKey); existing key does not exist. '$1'",EL05216:"changeKey(oldKey, newKey); the key to be replaced overlaps with the existing key.'$1'",EL05220:"---- MetaRowCollection ----",EL05221:"The target's _entity object and $1._onwer object must be the same",EL05222:"insertAt(pos, row, isCheck); row is not type [MetaRow]",EL05223:"insertAt(pos, row, isCheck); row's _entity object and $1._onwer object must be the same",EL05224:"Validation of insertAt(pos, row, isCheck);row['$1'] failed msg = '$2'",EL05300:"---- base-entity.js ----",EL05310:"---- property ----",EL05311:"$1._mestaset value is not of type [MetaSet]",EL05312:"The $1.column property must be redefined,",EL05320:"---- private method :: _buildEntity, _readEntity, _readSchema - 14 ----",EL05321:"_buildEntity(entity, cb, items); items['$1'] 가 'string' It's not type. typeof items['$1'] = '$2'",EL05322:"_buildEntity(entity, cb, items); column name '$1' exists in this.column and cannot be added.",EL05323:"_buildEntity (entity, cb, items); row creation for entity failed",EL05324:"_readEntity(entity, opt); entity is not of type [BaseEntity",EL05325:"_readEntity(entity, opt); opt is not of type 'number'. type of opt = '$1'",EL05326:"_readEntity(entity, opt); entity read failed. opt = '$1'",EL05327:"_readEntity(entity, opt); this.rows exists and cannot load column.opt = '$1'",EL05328:"_readEntity(entity, opt); column name '$1' exists in this.column and cannot be added",EL05329:"_readSchema(obj, isRow, origin); obj._baseEntity guid not found. guid = '$1'",EL0532A:"_readSchema (obj, isRow, origin); Schema read failed",EL0532B:"_readSchema(obj, isRow, origin); this.rows exists and cannot be added to column",EL0532C:"_readSchema(obj, isRow, origin); this.columns['$1'] guid not found.guid = '$2'",EL0532D:"_readSchema(obj, isRow, origin); this.columns['$1']._entity guid를 not found. guid = '$2'",EL0532E:"_readSchema(obj, isRow, origin); column name '$1' exists in this.column and cannot be added",EL05330:"---- method :: transformSchema(static), setValue, clone, select - 7, : getValue, clear, reset, newRow, getObject, setObject ----",EL05331:"BaseEntity.transformSchema(oGuid); oGuid is not a schema object. oGuid = {column: $1,rows: $2}",EL05332:"BaseEntity.transformSchema(oGuid); schema conversion failed",EL05333:"setValue(row);row is not of type [MetaRow",EL05334:"Row setting failed for setValue(row); columns",EL05335:"select (filter, ...); recited from MetaRegistry.namespace to fetch '$1'",EL05336:"select(filter, ...); lookup failed",EL05337:"clone() is an abstract method. Must be implemented",EL05338:"validate(); validation can be performed if all columns are MetaColumn type.",EL05340:"---- merge, copy - 8 ----",EL05341:"merge(target, opt, isMath); target is not of type [BaseEntity]",EL05342:"merge(target, opt, isMath); opt is not of type 'number'. type of opt = '$1'",EL05343:"merge(target, opt, isMath); opt = 1, target.columns['$1'].name = '$2' 이 column name 에 존재합니다.",EL05344:"merge(target, opt, isMath); opt = 1, target.columns['$1'].name = '$2' 이 column alias 에 존재합니다.",EL05345:"merge(target, opt, isMath); opt = 3, target.columns['$1'].name = '$2' 이 columns name 에 존재합니다.",EL05346:"merge(target, opt, isMath); opt = 3, target.columns['$1'].name = '$2' 이 columns alias 에 존재합니다.",EL05347:"merge(target, opt, isMath); merge failed. opt = '$1'",EL05348:"copy() is an abstract method. must be implemented",EL05350:"---- load, read, readSchema, readDate - 12 ----",EL05351:"load(obj, pas); type [BaseEntity] obj cannot be loaded",EL05352:"load(obj, pas); obj is not of type 'object' (except null) type of obj = '$1'",EL05353:"load(obj, pas); load failed",EL05354:"read(obj, opt); obj is not of type 'object' (except null) type of obj = '$1'",EL05355:"read(obj, opt); opt is not of type 'number'. type of opt = '$1'",EL05356:"read(obj, opt); opt values are not in the range (1-3). obj = '$1'",EL05357:"read(obj, opt); read failed",EL05358:"readSchema(obj, isCreate, origin); obj is not of type 'object' (except null) type of obj = '$1'",EL05359:"readSchema(obj, isCreate, origin); obj is not a schema object. obj = {column: $1,rows: $2}",EL0535A:"readSchema (obj, isCreate, origin); skami read failed",EL0535B:"readData(obj); obj is not of type 'object' (except null) type of obj = '$1'",EL0535C:"readData(obj); obj is not a schema object. obj = {columns: $1,rows: $2}",EL0535D:"readData(obj); data read failed",EL05360:"---- output, write, writeSchema, writeData - 4 ----",EL05361:"",EL05400:"",EL05410:"---- MetaTable ----",EL05411:"$1.tableName value is not of type 'string'. typeoftableName = '$2'",EL05412:"$1.column value is not of type [MetaTableCollection]",EL05413:"$1.rows exists and cannot set columns.rows.count = '$2'",EL05414:"setObject(oGuid, origin); oGuid.['_metaSet'] guid not found: guid = '$1'",EL05420:"---- MetaTableColleciton ----",EL05421:"$1._baseType value is not function type. typeof_baseType = '$2'",EL05422:"The prototype of $1._baseType [MetaTable] must be connected. (Inheritance)",EL05423:"add(any); any is 'string' | [MetaTable] type. typeofany = '$1'",EL05424:"add(any); tableName = '$1' existing",EL05430:"---- MetaView ----",EL05431:"$1.viewName value is not of type 'string'. typeofviewName = '$2'",EL05432:"$1.column value is not of type [MetaViewCollection]",EL05433:"$1.rows exists and cannot set columns.rows.count = '$2'",EL05434:"$1._baseEntity value is not of type [BaseEntity]",EL05435:"setObject(oGuid, origin); oGuid.['_metaSet'] guid not found: guid = '$1'",EL05436:"setObject(oGuid, origin); oGuid.['_baseEntivity'] guid not found: guid = '$1'",EL05440:"---- MetaViewColleciton ----",EL05441:"$1._baseType value is not of type 'function'. typeof_baseType = '$2'",EL05442:"The prototype of $1._baseType [MetaView] must be connected (inheritance), ",EL05443:"You cannot enter obj and baseEntity of type [MetaView] at the same time",EL05444:"add(obj, baseEntity); baseEntity is not type [BaseEntity]",EL05445:"add(obj, baseEntity); obj is 'string' | [MetaView] type. typeof obj = '$1'",EL05446:"add(obj, baseEntity); viewName = '$1' existing",EL05450:"---- MetaSet ----",EL05451:"$1.setName value is not of type 'string'. typeofsetName = '$2'",EL05452:"$1.autoChanges value is not of type 'boolean'. typeofsetName = '$2'",EL05453:"MetaSet.transformSchema(oGuid); oGuid is not a schema object: oGuid = {tables:..., views:...}",EL05454:"load(obj, pas); type [MetaSet] obj cannot be loaded",EL05455:"load(obj, pas); obj is not of type 'object' (except null) type of obj = '$1'",EL05456:"read(obj, opt); obj is not of type 'object' (except null) type of obj = '$1'",EL05457:"read(obj, opt); opt is not of type 'number'. type of opt = '$1'",EL05458:"readSchema(obj, isCreate); obj is not of type 'object' (except null) type of obj = '$1'",EL05459:"readSchema(obj, isCreate); obj is not a schema object. obj = {tables: $1, views: $2}",EL0545A:"readData(obj); obj is not of type 'object' (except null) type of obj = '$1'",EL0545B:"readData(obj); obj is not a schema object."};v.importMessage(fe,"./locales");var pe=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.write=function(){throw new L(/EL02211/,null,["IExportControl"])},e}(),he=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.merge=function(){throw new L(/EL02231/,null,["IGroupControl"])},e.prototype.copy=function(){throw new L(/EL02232/,null,["IGroupControl"])},e}(),ye=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.read=function(){throw new L(/EL02221/,null,["IImportControl"])},e}(),de=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.readSchema=function(){throw new L(/EL02241/,null,["ISchemaControl"])},e.prototype.writeSchema=function(){throw new L(/EL02242/,null,["ISchemaControl"])},e}(),me=function(){function e(){}return e._NS="Interface",e._KIND="interface",e.prototype.acceptChanges=function(){throw new L(/EL02251/,null,["ITransaction"])},e.prototype.rejectChanges=function(){throw new L(/EL02252/,null,["ITransaction"])},e}(),be=function(){function e(e){var t,n=[];Object.defineProperty(this,"queue",{get:function(){return n},configurable:!1,enumerable:!0}),Object.defineProperty(this,"collection",{get:function(){return t},set:function(e){if(!(e instanceof ae))throw new L(/EL04321/,null,[]);if(!e.instanceOf(ce))throw new L(/EL04322/,null,[]);t=e},configurable:!1,enumerable:!0}),this.collection=e}return e._NS="Collection",e._PARAMS=["_owner"],e.prototype.init=function(){this.queue.length=0},e.prototype.commit=function(){this.init()},e.prototype.rollback=function(){for(var e,t,n=this.queue.length-1;n>=0;n--)if("I"===(t=this.queue[n]).cmd)e=t.pos,this.collection.removeAt(e);else if("D"===t.cmd)e=t.pos,this.collection.insertAt(e,t.clone);else{if("U"!==t.cmd)throw new L(/EL04323/,null,[t.cmd]);e=t.pos,this.collection.removeAt(e),this.collection.insertAt(e,t.clone)}this.init()},e.prototype.insert=function(e,t,n){this.queue.push({cmd:"I",pos:e,ref:t,clone:null,etc:n||""})},e.prototype.delete=function(e,t,n){this.queue.push({cmd:"D",pos:e,ref:null,clone:t,etc:n||""})},e.prototype.update=function(e,t,n,r){this.queue.push({cmd:"U",pos:e,ref:t,clone:n,etc:r||""})},e.prototype.select=function(){return this.queue},e}(),ge=function(e){function t(t){e.call(this,t);var n=new be(this),r=!1;Object.defineProperty(this,"_transQueue",{get:function(){return n},configurable:!1,enumerable:!1}),Object.defineProperty(this,"autoChanges",{get:function(){return r},set:function(e){if("boolean"!=typeof e)throw new L(/EL04311/,null,[this.constructor.name,h(e)]);r=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"hasChanges",{get:function(){return n.queue.length>0},configurable:!1,enumerable:!1}),this.$KEYWORD=["_transQueue","autoChanges","hasChanges"],this.$KEYWORD=["commit","rollback"]}return U.inherits(t,e),t._NS="Collection",t._PARAMS=["_owner"],t.prototype._getPropDescriptor=function(e){return{get:function(){return this.$elements[e]},set:function(t){this._elemTypes.length>0&&O.matchType([this._elemTypes],t),this._transQueue.update(e,t,this.$elements[e]),this.$elements[e]=t},configurable:!0,enumerable:!0}},Object.defineProperty(t.prototype,"_getPropDescriptor",{enumerable:!1}),t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n);return!1!==this.autoChanges&&(r.autoChanges=this.autoChanges),r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n),this._transQueue.init(),t.autoChanges&&(this.autoChanges=t.autoChanges)},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.removeAt=function(t){return this.autoChanges||this._transQueue.delete(t,this[t]),e.prototype.removeAt.call(this,t)},Object.defineProperty(t.prototype,"removeAt",{enumerable:!1}),t.prototype.clear=function(){e.prototype.clear.call(this),this._transQueue.init()},Object.defineProperty(t.prototype,"clear",{enumerable:!1}),t.prototype.insertAt=function(t,n,r){return this.autoChanges||this._transQueue.insert(t,n),e.prototype.insertAt.call(this,t,n,r)},Object.defineProperty(t.prototype,"insertAt",{enumerable:!1}),t.prototype.commit=function(){this._transQueue.commit()},Object.defineProperty(t.prototype,"commit",{enumerable:!1}),t.prototype.rollback=function(){this._transQueue.rollback()},Object.defineProperty(t.prototype,"rollback",{enumerable:!1}),t}(ce),we=function(e){function t(n){e.call(this);var r=new W(this),o=[],i=[],a=null;if(Object.defineProperty(this,"$elements",{get:function(){return o},set:function(e){o=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$event",{get:function(){return r},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$keys",{get:function(){return i},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_entity",{get:function(){return a},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_list",{get:function(){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);return e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"count",{get:function(){return o.length},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onChanging",{set:function(e){this.$event.on("onChanging",e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"onChanged",{set:function(e){this.$event.on("onChanged",e)},configurable:!1,enumerable:!1}),!(n instanceof ae&&n.instanceOf("BaseEntity")))throw new L(/EL05211/,null,[]);a=n;for(var s=0;s<a.columns.count;s++){var l=o.length,c=a.columns[s].alias;o.push(a.columns[s].default),i.push(c),Object.defineProperty(this,[s],this._getPropDescriptor(l,!1)),Object.defineProperty(this,c,this._getPropDescriptor(l))}U.implements(t,this)}function n(e){return"string"==typeof e&&e.length>0}return U.inherits(t,e),t._UNION=[ee],t._NS="Meta.Entity",t._PARAMS=["_entity"],t.prototype._getPropDescriptor=function(e,t){return"boolean"!=typeof t&&(t=!0),{get:function(){return this.$elements[e]},set:function(t){var n,r=this.$elements[e];if((n=this._entity.columns[e])&&n._valueTypes.length>0&&O.matchType([n._valueTypes],t),this._entity&&!this._entity.rows.autoChanges){var o="idx:"+e+", new:"+t+", old:"+r,i=this._entity.rows.indexOf(this);i>-1&&this._entity.rows._transQueue.update(i,this,this.clone(),o)}this._onChanging(e,t,r),this.$elements[e]=t,this._onChanged(e,t,r)},configurable:!0,enumerable:t}},Object.defineProperty(t.prototype,"_getPropDescriptor",{enumerable:!1}),t.prototype._changeKey=function(e,t){var r;if(!n(e))throw new L(/EL05214/,null,["oldKey"]);if(!n(t))throw new L(/EL05214/,null,["newKey"]);if(this.$keys.indexOf(e)<0)throw new L(/EL05215/,null,[e]);if(this.$keys.indexOf(t)>-1)throw new L(/EL05216/,null,[t]);r=this.$keys.indexOf(e),delete this[e],Object.defineProperty(this,t,this._getPropDescriptor(r)),this.$keys.splice(r,1,t)},Object.defineProperty(t.prototype,"_changeKey",{enumerable:!1}),t.prototype._onChanging=function(e,t,n){this.$event.emit("onChanging",e,t,n,this)},Object.defineProperty(t.prototype,"_onChanging",{enumerable:!1}),t.prototype._onChanged=function(e,t,n){this.$event.emit("onChanged",e,t,n,this)},Object.defineProperty(t.prototype,"_onChanged",{enumerable:!1}),t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=n?[].concat(n,r):[].concat(r);O.deepEqual(this.$event.$storage,{})||(r.$storage=this.$event.$storage),o<2&&o>-1&&this._entity&&(r._entity=ie.createReferObject(this._entity)),r._elem=[];for(var a=0;a<this._list.length;a++){var s=this._list[a];s instanceof ae?ie.hasGuidObject(s,i)?r._elem.push(ie.createReferObject(s)):r._elem.push(s.getObject(o,i)):r._elem.push(s)}r._key=[];for(a=0;a<this.$keys.length;a++){var l=this.$keys[a];r._key.push(l)}return r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r=n||t;if(t._elem.length!==t._key.length)throw new L(/EL05212/,null,[t._elem.length,t._key.length]);t.$storage&&(this.$event.$storage=t.$storage);for(var o=0;o<t._elem.length;o++){var i=t._elem[o];if(ie.isGuidObject(i)){var a=ie.createMetaObject(i,r);a.setObject(i,r),this.$elements[o]=a}else if(i.$ref){var s=ie.findSetObject(i.$ref,r);if(!s)throw new L(/EL05213/,null,[o,i.$ref]);this.$elements[o]=s}else this.$elements[o]=i}},Object.defineProperty(t.prototype,"setObject",{enumerable:!1}),t.prototype.clone=function(e){var n=new t(e||this._entity),r=this.getObject();return r.$storage&&(n.$event.$storage=r.$storage),n.$elements=U.deepCopy(r._elem),n},Object.defineProperty(t.prototype,"clone",{enumerable:!1}),t}(ae),_e=function(e){function t(t){e.call(this,t),this._elemTypes=we,this.autoChanges=!0}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner"],t.prototype._getPropDescriptor=function(e){return{get:function(){return this.$elements[e]},set:function(t){if(this._elemTypes.length>0&&O.matchType([this._elemTypes],t),t._entity!==this._owner)throw new L(/EL05221/,null,[this.constructor.name]);this._transQueue.update(e,t,this.$elements[e]),this.$elements[e]=t},configurable:!0,enumerable:!0}},Object.defineProperty(t.prototype,"_getPropDescriptor",{enumerable:!1}),t.prototype.add=function(e,t){var n=this.$elements.length;return this.insertAt(n,e,t),n},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.insertAt=function(t,n,r){var o,i=r||!1,a=n._entity;if(!(n instanceof we))throw new L(/EL05222/,null,[]);if(a._guid!==this._owner._guid)throw new L(/EL05223/,null,[this.constructor.name]);if(!0===i)for(var s=0;s<n.count;s++)if(o=a.columns[s].valid(n[s]))throw new L(/EL05224/,null,[s,o.msg]);return e.prototype.insertAt.call(this,t,n)},Object.defineProperty(t.prototype,"insertAt",{enumerable:!1}),t}(ge),Ee=function(e){function t(t,r){e.call(this,t);var o=t,i=null,a=null,s=null,l=this._type._VALUE_TYPE||[],c="",u="";Object.defineProperty(this,"$key",{get:function(){return o},set:function(e){n(e)&&(o=e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$value",{get:function(){return i},set:function(e){i=e},configurable:!1,enumerable:!1}),Object.defineProperty(this,"$alias",{get:function(){return a},set:function(e){n(e)&&(a=e)},configurable:!1,enumerable:!1}),Object.defineProperty(this,"_entity",{get:function(){return s},set:function(e){if(void 0!==e&&!(e instanceof se&&e.instanceOf("BaseEntity")))throw new L(/EL05111/,null,[this.constructor.name]);s=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"_valueTypes",{get:function(){return l},set:function(e){var t=[];Array.isArray(e)?t=e:t.push(e),l=t},configurable:!1,enumerable:!0}),Object.defineProperty(this,"columnName",{get:function(){return this._name},set:function(e){if(e!==this.columnName){if("string"!=typeof e)throw new L(/EL05112/,null,[this.constructor.name,h(e)]);if(s&&s.columns.existColumnName(e))throw new L(/EL05113/,null,[this.constructor.name,e]);if(s&&s.columns.existAlias(e))throw new L(/EL05114/,null,[this.constructor.name,e]);this._name=e}},configurable:!1,enumerable:!0}),Object.defineProperty(this,"alias",{get:function(){return"string"==typeof a?a:this.columnName},set:function(e){var t=this._entity,n=this.$alias||this.columnName;if("string"!=typeof e)throw new L(/EL05115/,null,[this.constructor.name,h(e)]);if(t&&t.columns.existAlias(e))throw new L(/EL05116/,null,[this.constructor.name,e]);if(this._entity)for(var r=0;r<this._entity.rows.count;r++){this._entity.rows[r]._changeKey(n,e)}a=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"default",{get:function(){return c},set:function(e){this._valueTypes.length>0&&O.matchType([this._valueTypes],e),c=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"caption",{get:function(){return u},set:function(e){if("string"!=typeof e)throw new L(/EL05117/,null,[this.constructor.name,h(e)]);u=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"value",{get:function(){return null===i?this.default:i},set:function(e){this._valueTypes.length>0&&O.matchType([this._valueTypes],e),i=e},configurable:!0,enumerable:!0}),Object.defineProperty(this,"val",{get:function(){return this.value},set:function(e){this.value=e},configurable:!0,enumerable:!1}),r&&(s=r)}function n(e){return"string"==typeof e&&e.length>0}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["columnName","_entity"],t._KIND="abstract",t._VALUE_TYPE=[],t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0;return o<2&&o>-1&&this._entity&&(r._entity=ie.createReferObject(this._entity)),r.columnName=this.columnName,""!==this.default&&(r.default=this.default),""!==this.caption&&(r.caption=this.caption),null!==this.$alias&&(r.$alias=this.$alias),null!==this.$value&&(r.$value=this.$value),r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r,o=n||t;if(t._entity){if(!(r=ie.findSetObject(t._entity.$ref,o)))throw new L(/EL05118/,null,[t.name,t._entity.$ref]);this._entity=r}this.columnName=t.columnName,t.default&&(this.default=t.default),t.caption&&(this.caption=t.caption),t.$alias&&(this.$alias=t.$alias),t.$value&&(this.$value=t.$value)},t.prototype.clone=function(){throw new L(/EL05119/,null,[])},t}(se),ve=function(e){function t(t,n,r){e.call(this,t,n);var o=new W(this),i=!1,a=[],s=null,l=null;Object.defineProperty(this,"$event",{get:function(){return o},configurable:!1,enumerable:!1}),Object.defineProperty(this,"required",{get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new L(/EL05131/,null,[this.constructor.name,h(e)]);i=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"constraints",{get:function(){return a},set:function(e){var t=[];a=[],Array.isArray(e)?t=e:t.push(e);for(var n=0;t.length>n;n++)if("function"!=typeof t[n]&&("object"!==h(t[n].regex)||"string"!=typeof t[n].msg))throw new L(/EL05133/,null,[this.constructor.name,n,h(e.regex),h(e.msg)]);a=t},configurable:!1,enumerable:!0}),Object.defineProperty(this,"value",{get:function(){var e;return"function"==typeof s?(e=s.call(this),null!==this.$value&&this.$value!==e&&(this._onChanged(e,this.$value),this.$value=e)):e=this.$value,null==e&&(e=this.default),e},set:function(e){var t,n,r=this.$value;"function"==typeof l&&(n=l.call(this,e)),t=null===(t=void 0!==n?n:e)?"":t,this._valueTypes.length>0&&O.matchType([this._valueTypes],t),this.$value=t,r!==t&&t&&this._onChanged(t,r)},configurable:!0,enumerable:!0}),Object.defineProperty(this,"getter",{get:function(){return s},set:function(e){if("function"!=typeof e)throw new L(/EL05134/,null,[this.constructor.name,h(e)]);s=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"setter",{get:function(){return l},set:function(e){if("function"!=typeof e)throw new L(/EL05135/,null,[this.constructor.name,h(e)]);l=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"onChanged",{set:function(e){this.$event.on("onChanged",e)},configurable:!1,enumerable:!1}),r&&this._load(r)}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["columnName","_entity"],t._VALUE_TYPE=[String,Number,Boolean],t.prototype._onChanged=function(e,t){t=t||this.$value,this.$event.emit("onChanged",e,t,this)},t.prototype._load=function(e){if("object"===h(e))for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&["_valueTypes","alias","default","caption","value","required","constraints","getter","setter"].indexOf(t)>-1&&(this[t]=e[t]);["number","string","boolean"].indexOf(h(e))>-1&&(this.value=e)},t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n);return O.deepEqual(this.$event.$storage,{})||(r.$storage=this.$event.$storage),!1!==this.required&&(r.required=this.required),this.constraints.length>0&&(r.constraints=U.deepCopy(this.constraints)),null!==this.getter&&(r.getter=this.getter),null!==this.setter&&(r.setter=this.setter),r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n),t.$storage&&(this.$event.$storage=t.$storage),t.required&&(this.required=t.required),t.constraints&&(this.constraints=t.constraints),t.getter&&(this.getter=t.getter),t.setter&&(this.setter=t.setter)},t.prototype.clone=function(e){var n,r=e||this._entity;return n=new t(this.columnName,r),""!==this.default&&(n.default=this.default),""!==this.caption&&(n.caption=this.caption),null!==this.$alias&&(n.$alias=this.$alias),null!==this.$value&&(n.$value=this.$value),this.required&&(n.required=this.required),this.constraints&&(n.constraints=this.constraints),this.getter&&(n.getter=this.getter),this.setter&&(n.setter=this.setter),n},t.prototype.addConstraint=function(e,t,n,r){r="boolean"!=typeof r||r;var o={};if("function"!=typeof e){if(!(e instanceof RegExp))throw new L(/EL05136/,null,[]);if("string"!=typeof t)throw new L(/EL05137/,null,[h(t)]);o.regex=e,o.msg=t,o.code=n,o.condition=r,this.constraints.push(o)}else this.constraints.push(e)},t.prototype.valid=function(e){var t,n={},r=null;if(n.value=e,n.msg="",n.code="",r=(r="number"==typeof(e=e||"")?String(e):e).trim(),(!1!==this.required||0!==r.length)&&!(!1===this.required&&0===this.constraints.length||!0===this.required&&0===this.constraints.length&&r.length>0)){if(!0===this.required&&0===this.constraints.length&&0===r.length)return n.msg=v.get("EL05138",[this.name]),n.code=0,n;for(var o=0;this.constraints.length>o;o++){if("function"==typeof this.constraints[o]){var i=this.constraints[o].call(this,r,this);if(!0===i||void 0===i)continue;return"object"===h(i)&&"string"==typeof i.msg?(n.msg=i.msg,n.code=i.code):n.msg=v.get("EL05139",[this.name]),n}if(t=r.match(this.constraints[o].regex),!1===this.constraints[o].condition&&null!==t||!0===this.constraints[o].condition&&null===t)return n.msg=v.get("EL0513A",[this.name,this.constraints[o].msg]),n.code=this.constraints[o].code,n}}},t}(Ee),Le=function(e){function t(t,n,r){e.call(this,t,n),r&&this._load(r)}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["columnName","_entity","_property"],t._VALUE_TYPE=[{}],t.prototype._load=function(e){if("object"!==h(e))throw new L(/EL05121/,null,["p_prop","object"]);for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&["default","caption","value","alias"].indexOf(t)>-1&&(this[t]=e[t])},t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=n?[].concat(n,r):[].concat(r),a=this.default,s=this.$value;return a instanceof ae&&(ie.hasGuidObject(a,i)?r.default=ie.createReferObject(a):r.default=a.getObject(o,i)),s instanceof ae&&(ie.hasGuidObject(s,i)?r.$value=ie.createReferObject(s):r.$value=s.getObject(o,i)),r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r,o,i=n||t;if("object"===h(r=t.default)&&null!==r)if(ie.isGuidObject(r))(o=ie.createMetaObject(r,i)).setObject(r,i),this.default=o;else if(r.$ref){if(!(a=ie.findSetObject(r.$ref,i)))throw new L(/EL05122/,null,[r.$ref]);this.default=a}if("object"===h(r=t.$value)&&null!==r)if(ie.isGuidObject(r))(o=ie.createMetaObject(r,i)).setObject(r,i),this.$value=o;else if(r.$ref){var a;if(!(a=ie.findSetObject(r.$ref,i)))throw new L(/EL05123/,null,[r.$ref]);this.$value=a}},t.prototype.clone=function(e){var n,r=e||this._entity;return n=new t(this.columnName,r),this.$value&&(n.$value=this.$value),this.$alias&&(n.$alias=this.$alias),this.default&&(n.default=this.default),this.caption&&(n.caption=this.caption),n},t}(Ee),$e=function(e){function t(t,n){var r;e.call(this,t),Object.defineProperty(this,"_baseType",{get:function(){return r},set:function(e){if("function"!=typeof e)throw new L(/EL05141/,null,[this.constructor.name,h(e)]);if(!O.isProtoChain(e,Ee))throw new L(/EL05142/,null,[this.constructor.name]);r=e},enumerable:!1,configurable:!1}),this._baseType=n,this.$KEYWORD=["_baseType","_ownerIsEntity","initValue","existAlias"],this.$KEYWORD=["existColumnName","alias","addValue"]}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner","_baseType"],t._KIND="abstract",t.prototype._ownerIsEntity=function(){return this._owner instanceof se&&this._owner.instanceOf("BaseEntity")},Object.defineProperty(t.prototype,"_ownerIsEntity",{enumerable:!1}),t.prototype._getPropDescriptor=function(e,t){return"boolean"!=typeof t&&(t=!0),{get:function(){return this.$elements[e]},set:function(e){throw new L(/EL05148/,null,[])},configurable:!0,enumerable:t}},Object.defineProperty(t.prototype,"_getPropDescriptor",{enumerable:!1}),t.prototype.add=function(t,n){if(this._ownerIsEntity()&&this._owner.rows.count>0)throw new L(/EL05143/,null,[this._owner.rows.count]);if(this.existColumnName(t))throw new L(/EL05144/,null,[this.constructor.name,t]);if(this.existAlias(t))throw new L(/EL05145/,null,[this.constructor.name,t]);return e.prototype.add.call(this,t,n)},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.removeAt=function(t){if(this._owner.rows.count>0)throw new L(/EL05146/,null,[this._owner.rows.count]);return e.prototype.removeAt.call(this,t)},Object.defineProperty(t.prototype,"removeAt",{enumerable:!1}),t.prototype.initValue=function(){for(var e=0;this.count>e;e++)this[e].value=this[e].default},Object.defineProperty(t.prototype,"initValue",{enumerable:!1}),t.prototype.existAlias=function(e){for(var t=0;this.count>t;t++)if(this[t].alias===e)return!0;return!1},Object.defineProperty(t.prototype,"existAlias",{enumerable:!1}),t.prototype.existColumnName=function(e){for(var t=0;this.count>t;t++)if(this[t].columnName===e)return!0;return!1},Object.defineProperty(t.prototype,"existColumnName",{enumerable:!1}),t.prototype.alias=function(e){for(var t=0;this.count>t;t++)if(this[t].alias===e)return this[t]},Object.defineProperty(t.prototype,"alias",{enumerable:!1}),t.prototype.addValue=function(){throw new L(/EL05147/,null,[])},Object.defineProperty(t.prototype,"addValue",{enumerable:!1}),t}(ue),je=function(e){function t(t){e.call(this,t,ve),Object.defineProperty(this,"_refEntities",{get:function(){for(var e=[],t=0;t<this.count;t++){var n=this[t];this._owner!==n._entity&&e.indexOf(n._entity)<0&&e.push(n._entity)}return e},configurable:!1,enumerable:!1}),this.$KEYWORD=["_refEntities","addValue","addEntity"]}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner","_baseCollection"],t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0;if(0===o)for(var i=0;i<r._elem.length;i++){var a=r._elem[i];if(o<2&&o>-1&&a._entity&&a._entity.$ref!==this._owner._guid){var s=ie.createReferObject(a);r._elem[i]=s}}return r},Object.defineProperty(t.prototype,"getObject",{enumerable:!1}),t.prototype.add=function(t,n){var r,o,i;if(n&&!(n instanceof $e))throw new L(/EL05161/,null,[]);if(t instanceof Ee)o=t.columnName,i=t;else{if("string"!=typeof t)throw new L(/EL05162/,null,[h(t)]);o=t,i=new this._baseType(o,this._owner)}return n instanceof $e?r=n:this._owner&&this._owner._baseEntity&&this._owner._baseEntity.columns&&(r=this._owner._baseEntity.columns),r&&(r.contains(r[o])||r.add(t),i=r[o]),!i._entity&&this._ownerIsEntity()&&(i._entity=this._owner),e.prototype.add.call(this,o,i)},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.addValue=function(e,t,n){var r,o,i=this._baseType._VALUE_TYPE;if("string"!=typeof e)throw new L(/EL05163/,null,[h(e)]);return i.length>0&&O.matchType([i],t),o={value:t},r=new this._baseType(e,null,o),this[this.add(r,n)]},Object.defineProperty(t.prototype,"addValue",{enumerable:!1}),t.prototype.addEntity=function(e){if(void 0!==e&&!(e instanceof se&&e.instanceOf("BaseEntity")))throw new L(/EL05164/,null,[]);for(var t=0;e.columns.count>t;t++)this.add(e.columns[t])},Object.defineProperty(t.prototype,"addEntity",{enumerable:!1}),t}($e),Oe=function(e){function t(t){e.call(this,t,ve),this.$KEYWORD=["addValue"]}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner"],t.prototype.add=function(t){var n,r;if("string"==typeof t)r=t,n=this._ownerIsEntity()?new this._baseType(r,this._owner):new this._baseType(r);else{if(!(t instanceof Ee))throw new L(/EL05151/,null,[h(t)]);r=t.columnName,n=this._ownerIsEntity()&&t._owner!==this._owner?t.clone(this._owner):t}return e.prototype.add.call(this,r,n)},Object.defineProperty(t.prototype,"add",{enumerable:!1}),t.prototype.addValue=function(e,t){var n,r,o=this._baseType._VALUE_TYPE;if("string"!=typeof e)throw new L(/EL05152/,null,[h(e)]);return o.length>0&&O.matchType([o],t),r={value:t},n=new this._baseType(e,this._owner,r),this[this.add(n)]},Object.defineProperty(t.prototype,"addValue",{enumerable:!1}),t}($e),Pe=function(e){function t(n){e.call(this,n);var r=null,o=new _e(this);Object.defineProperty(this,"_metaSet",{get:function(){return r},set:function(e){if(!(e instanceof se&&e.instanceOf("MetaSet")))throw new L(/EL05311/,null,[this.constructor.name]);r=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"columns",{get:function(){throw new L(/EL05312/,null,[this.constructor.name])},configurable:!0,enumerable:!0}),Object.defineProperty(this,"cols",{get:function(){return this.columns},set:function(e){this.columns=e},configurable:!0,enumerable:!1}),Object.defineProperty(this,"rows",{get:function(){return o},configurable:!1,enumerable:!0}),U.implements(t,this)}function n(e){return"object"===h(e)&&null!==e}function r(e){return!!n(e)&&!(!n(e.columns)&&!n(e.rows))}return U.inherits(t,e),t._UNION=[he,de,ye,pe,ne],t._NS="Meta.Entity",t._PARAMS=["name"],t._KIND="abstract",t.transformSchema=function(e){var t={},n=e;try{if(!r(e))throw new L(/EL05331/,null,[e.columns,e.rows]);n._guid&&(t._guid=n._guid),n._baseEntity&&(t._baseEntity=n._baseEntity),t.columns=function(e,t){for(var n={},r=0;r<e._elem.length;r++){var o=e._elem[r],i=e._key[r];n[i]={},o.$ref?n[i]=o:(o._entity&&o._entity.$ref!==t._guid&&(n[i]._entity={},n[i]._entity.$ref=o._entity.$ref),void 0!==o._guid&&(n[i]._guid=o._guid),void 0!==o.default&&(n[i].default=o.default),void 0!==o.caption&&(n[i].caption=o.caption),void 0!==o.required&&(n[i].required=o.required),Array.isArray(o.constraints)&&(n[i].constraints=U.deepCopy(o.constraints)),void 0!==o.getter&&(n[i].getter=o.getter),void 0!==o.setter&&(n[i].setter=o.setter),void 0!==o.$alias&&(n[i].alias=o.$alias),void 0!==o.$value&&(n[i].value=o.$value))}return n.$key=e._key,n}(n.columns,n),t.rows=function(e){for(var t=[],n=0;n<e._elem.length;n++){for(var r=e._elem[n],o={},i=0;i<r._elem.length;i++){var a=r._elem[i];o[r._key[i]]=a}t.push(o)}return t}(n.rows)}catch(e){throw new L(/EL05332/,e,[])}return t},t.prototype._buildEntity=function(e,t,n){var r,o,i,a=this.clone();try{if(0===n.length)for(var s=0;s<this.columns.count;s++)e.columns.add(this.columns[s]);else for(s=0;s<n.length;s++){if(r=n[s],!("string"==typeof(i=r)&&i.length>0))throw new L(/EL05321/,null,[s,h(r)]);if(!this.columns.exists(r))throw new L(/EL05322/,null,[r]);o=this.columns.alias(r),e.columns.add(o)}for(s=0;s<a.rows.count;s++)(!t||"function"==typeof t&&t.call(this,a.rows[s],s,e))&&e.rows.add(l(a.rows[s]));return e}catch(e){throw new L(/EL05323/,e,[])}function l(t){var n,r;r=e.newRow();for(var o=0;o<e.columns.count;o++)r[n=e.columns[o].alias]=t[n];return r}},t.prototype._readEntity=function(e,n){var r=n||3,o=this;try{if(!(e instanceof t))throw new L(/EL05324/,null,[]);if("number"!=typeof r)throw new L(/EL05325/,null,[h(r)]);return r%2==1&&function(){if(o.rows.count>0)throw new L(/EL05327/,null,[r]);for(var t=0;t<e.columns.count;t++){var n=e.columns[t].clone(),i=e.columns.indexToKey(t);if(o.columns.exists(i))throw new L(/EL05328/,null,[i]);o.columns.add(n)}}(),void(Math.floor(r/2)>=1&&function(){for(var t=0;t<e.rows.count;t++){for(var n=o.newRow(this),r=0;r<o.columns.count;r++){var i=o.columns.indexToKey(r);n[i]=e.rows[t][i]}o.rows.add(n)}}())}catch(e){throw new L(/EL05326/,e,[r])}},t.prototype._readSchema=function(e,t,r){var o,i=this,a=e,s=[],l=this.columns._baseType,c=r||e;try{if(a._guid&&ie.setMetaObject(a,this),a._baseEntity&&a._baseEntity.$ref&&(a._baseEntity=ie.findSetObject(a._baseEntity.$ref,c),!a._baseEntity))throw new L(/EL05329/,null,[a._baseEntity.$ref]);if(o=a.columns)if(o.$key&&Array.isArray(o.$key))for(var u=0;u<o.$key.length;u++)y(o.$key[u],o);else for(var f in o)y(f,o);if(!0===t&&a.rows&&(Array.isArray(a.rows)?s=a.rows:s.push(a.rows),Array.isArray(s)&&s.length>0&&"object"===h(s[0])))for(var f in s[0])if(Object.prototype.hasOwnProperty.call(s[0],f)&&!this.columns.existAlias(f)){s[0][f];if(!this.columns.exists(f)){var p=new l(f,this);this.columns.add(p)}}}catch(e){throw new L(/EL0532A/,e,[])}function y(e,t){var r;if(n(t[e])||(t[e]={value:t[e]}),n(t[e])){if(i.rows.count>0)throw new L(/EL0532B/,null,[]);var o=t[e],a={};if(n(o)&&o.$ref){if(!(r=ie.findSetObject(o.$ref,c)))throw new L(/EL0532C/,null,[e,o.$ref])}else{if(n(o._entity)&&o._entity.$ref&&(o._entity=ie.findSetObject(o._entity.$ref,c),!o._entity))throw new L(/EL0532D/,null,[e,"_entity"]);for(var s in o)a[s]=o[s];r=new l(e,null,a)}if(o._guid&&ie.setMetaObject(o,r),i.columns.exists(e))throw new L(/EL0532E/,null,[e]);i.columns.add(r)}}},t.prototype.getObject=function(t,n){var r,o,i=t||0;return r=e.prototype.getObject.call(this,t,n),o=n?[].concat(n,r):[].concat(r),i<2&&i>-1&&this._metaSet&&(r._metaSet=ie.createReferObject(this._metaSet)),r.columns=this.columns.getObject(i,o),r.rows=this.rows.getObject(i,o),r},t.prototype.clear=function(){this.rows.clear()},t.prototype.reset=function(){this.rows.clear(),this.columns.clear()},t.prototype.newRow=function(){return new we(this)},t.prototype.getValue=function(){for(var e=this.newRow(),t=0;this.columns.count>t;t++){var n=this.columns[t].value;e[t]=null===n?this.columns[t].default:n}return e},t.prototype.setValue=function(e){var t="";try{if(!(e instanceof we))throw new L(/EL05333/,null,[]);for(var n=0;this.columns.count>n;n++)t=this.columns[n].alias,this.columns[n].value=e[t]}catch(e){throw new L(/EL05334/,e,[])}},t.prototype.merge=function(e,n,r){var o,i,a,s,l,c,u,f=this,p=n||0,y=[];try{if(!(e instanceof t))throw new L(/EL05341/,null,[]);if("number"!=typeof n)throw new L(/EL05342/,null,[h(n)]);u=e.clone(),0===p&&function(){for(var e=0;e<f.rows.count;e++)y.push(f.rows[e].clone());f.rows.clear();for(e=0;e<y.length;e++){i=f.newRow();for(var t=0;t<f.columns.count;t++)o=f.columns[t].alias,y[e][o]&&(i[o]=y[e][o]);f.rows.add(i,r)}s=u.rows;for(e=0;e<s.count;e++){i=f.newRow(),a=s[e];for(t=0;t<f.columns.count;t++)o=f.columns[t].alias,a[o]&&(i[o]=a[o]);f.rows.add(i,r)}}(),1===p&&function(){l=u.columns,s=u.rows;for(var e=0;e<l.count;e++){if(o=l[e].alias,f.columns.exists(o))throw new L(/EL05343/,null,[e,o]);if(f.columns.existAlias(o))throw new L(/EL05344/,null,[e,o])}for(e=0;e<f.rows.count;e++)y.push(f.rows[e].clone());f.rows.clear();for(e=0;e<l.count;e++){c=l[e].clone(f);var t=l[e].alias;c.columnName=t,c.$key=t,f.columns.add(c)}for(e=0;e<y.length;e++){i=f.newRow();for(var n=0;n<f.columns.count;n++)o=f.columns[n].alias,y[e][o]?i[o]=y[e][o]:s[e]&&s[e][o]&&(i[o]=s[e][o]);f.rows.add(i,r)}}(),2===p&&function(){l=u.columns,s=u.rows;for(var e=0;e<f.rows.count;e++)y.push(f.rows[e].clone());f.rows.clear();for(e=0;e<l.count;e++)o=l[e].alias,f.columns.exists(o)||((c=l[e].clone(f)).name=o,f.columns.add(c));for(e=0;e<y.length;e++){i=f.newRow();for(var t=0;t<f.columns.count;t++)o=f.columns[t].alias,y[e][o]&&(i[o]=y[e][o]);f.rows.add(i,r)}for(e=0;e<s.count;e++){i=f.newRow();for(t=0;t<f.columns.count;t++)o=f.columns[t].alias,s[e][o]&&(i[o]=s[e][o]);f.rows.add(i,r)}}(),3===p&&function(){l=u.columns,s=u.rows;for(var e=0;e<l.count;e++){if(o=l[e].alias,f.columns.exists(o))throw new L(/EL05345/,null,[e,o]);if(f.columns.existAlias(o))throw new L(/EL05346/,null,[e,o])}for(e=0;e<f.rows.count;e++)y.push(f.rows[e].clone());f.rows.clear();for(e=0;e<l.count;e++)(c=l[e].clone(f)).columnName=l[e].alias,f.columns.add(c);for(e=0;e<y.length;e++){i=f.newRow();for(var t=0;t<f.columns.count;t++)o=f.columns[t].alias,y[e][o]?i[o]=y[e][o]:i[o]=s[e][o];f.rows.add(i,r)}if(y.length<s.count)for(e=y.length;e<s.count;e++){i=f.newRow();for(t=0;t<f.columns.count;t++)o=f.columns[t].alias,s[e][o]&&(i[o]=s[e][o]);f.rows.add(i,r)}}()}catch(e){throw new L(/EL05347/,e,[p])}},t.prototype.select=function(e,t){var n,r,o,i=Array.prototype.slice.call(arguments),a=[],s=[];try{if(i=Array.prototype.slice.call(arguments),!(n=ie.namespace.find("Meta.Entity.MetaView")))throw new L(/EL05335/,null,["Meta.Entity.MetaView"]);o=new n("select"),"function"==typeof e?(r=e,Array.isArray(t)?a=t:i.length>1&&(a=i.splice(1))):a=Array.isArray(e)?e:i.splice(0),this._buildEntity(o,r,a);for(var l=0;l<o.rows.count;l++)s.push(o.rows[l]);return s}catch(e){throw new L(/EL05336/,e,[])}},t.prototype.load=function(e,r){var o=e;try{if(e instanceof t)throw new L(/EL05351/,null,[]);if("string"==typeof o&&(o="function"==typeof r?r(o):JSON.parse(o,null)),!n(o))throw new L(/EL05352/,null,[h(o)]);this.setObject(o)}catch(e){throw new L(/EL05353/,e,[])}},t.prototype.output=function(e,t,n){var r;return r=this.getObject(e),"function"==typeof t?t(r,{space:n}):JSON.stringify(r,null,n)},t.prototype.read=function(e,r){var o=null,i=void 0===r?3:r;try{if(!n(e))throw new L(/EL05354/,null,[h(e)]);if("number"!=typeof i)throw new L(/EL05355/,null,[h(i)]);if(i<=0||i>3)throw new L(/EL05356/,null,[i]);e instanceof t?this._readEntity(e,r):(o=e.entity?e.entity:e.table?e.table:e,i%2==1&&this.readSchema(o,3===i),Math.floor(i/2)>=1&&this.readData(o))}catch(e){throw new L(/EL05357/,e,[])}},t.prototype.readSchema=function(e,o){var i=e;try{if(!n(e))throw new L(/EL05358/,null,[h(e)]);if(ie.isGuidObject(e)&&(ie.hasRefer(e)&&(i=ie.transformRefer(e)),i=t.transformSchema(i)),!r(i))throw new L(/EL05359/,null,[i.columns,i.rows]);i.viewName&&(this.viewName=i.viewName),i.tableName&&(this.tableName=i.tableName),this._readSchema(i,o)}catch(e){throw new L(/EL0535A/,e,[])}},t.prototype.readData=function(e){var o=e,i=[];try{if(!n(e))throw new L(/EL0535B/,null,[h(e)]);if(ie.isGuidObject(e)&&(ie.hasRefer(e)&&(o=ie.transformRefer(e)),o=t.transformSchema(e)),!r(o))throw new L(/EL0535C/,null,[o.columns,o.rows]);Array.isArray(o.rows)?i=o.rows:i.push(o.rows);for(var a=0;a<i.length&&this.columns.count>0;a++){var s=this.newRow(this);for(var l in i[a])Object.prototype.hasOwnProperty.call(s,l)&&(s[l]=i[a][l]);this.rows.add(s)}}catch(e){throw new L(/EL0535D/,e,[])}},t.prototype.write=function(e){var n,r=e||0;return n=this.getObject(r),t.transformSchema(n)},t.prototype.writeSchema=function(e){var t,n=e||0;return delete(t=this.write(n)).rows,t},t.prototype.writeData=function(e){var t,n=e||0;return delete(t=this.write(n)).columns,t},t.prototype.validate=function(){if(!this.columns.every((function(e){if(e instanceof ve)return!0})))throw new L(/EL05338/,null,[]);return!!this.columns.every((function(e){if(void 0===e.valid(e.value))return!0}))},t.prototype.clone=function(){throw new L(/EL05337/,null,[])},t.prototype.copy=function(){throw new L(/EL05348/,null,[])},t}(se),Ae=function(e){function t(t){e.call(this,t);var n=Ne;Object.defineProperty(this,"_baseType",{get:function(){return n},set:function(e){if("function"!=typeof e)throw new L(/EL05421/,null,[this.constructor.name,h(e)]);if(!O.isProtoChain(e,Ne))throw new L(/EL05422/,null,[this.constructor.name]);n=e},configurable:!1,enumerable:!0}),this._elemTypes=Ne,this.$KEYWORD=["_baseType","existTableName"]}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner"],t.prototype.add=function(t){var n,r;if("string"==typeof t&&t.length>0)r=t,n=new this._baseType(r),this._owner instanceof ae&&this._owner.instanceOf("MetaSet")&&(n._metaSet=this._owner);else{if(!(t instanceof Ne))throw new L(/EL05423/,null,["undefined"==typeof any?"undefined":h(any)]);r=t.tableName,n=t,this._owner instanceof ae&&this._owner.instanceOf("MetaSet")&&(t._metaSet=this._owner)}if(this.existTableName(r))throw new L(/EL05424/,null,[r]);return e.prototype.add.call(this,r,n)},t.prototype.existTableName=function(e){for(var t=0;this.count>t;t++)if(this[t].tableName===e)return!0;return!1},t}(ue),Ne=function(e){function t(n){e.call(this,n);var r=new Oe(this);Object.defineProperty(this,"tableName",{get:function(){return this._name},set:function(e){if(e!==this.tableName){if("string"!=typeof e)throw new L(/EL05411/,null,[h(e)]);this._name=e}},configurable:!1,enumerable:!0}),Object.defineProperty(this,"columns",{get:function(){return r},set:function(e){if(!(e instanceof Oe))throw new L(/EL05412/,null,[]);if(this.rows.count>0)throw new L(/EL05413/,null,[this.constructor.name,this.rows.count]);r=e},configurable:!1,enumerable:!0}),U.implements(t,this)}return U.inherits(t,e),t._UNION=[me],t._NS="Meta.Entity",t._PARAMS=["name"],t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n);return r.tableName=this.tableName,r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r,o=n||t;if(t._metaSet){if(!(r=ie.findSetObject(t._metaSet.$ref,o)))throw new L(/EL05414/,null,[t._metaSet.$ref]);this._metaSet=r}this.columns.setObject(t.columns,o),this.rows.setObject(t.rows,o),this.tableName=t.tableName},t.prototype.clone=function(){for(var e=new t(this.tableName),n=0;n<this.columns.count;n++)e.columns.add(this.columns[n].clone(e));for(n=0;n<this.rows.count;n++)e.rows.add(this.rows[n].clone(e));return e},t.prototype.copy=function(e,n){var r=Array.prototype.slice.call(arguments),o=[],i=null,a=new t(this.tableName);return"function"==typeof e?(i=e,Array.isArray(n)?o=n:r.length>1&&(o=r.splice(1))):o=Array.isArray(e)?e:r.splice(0),this._buildEntity(a,i,o)},t.prototype.acceptChanges=function(){this.rows.commit()},t.prototype.rejectChanges=function(){this.rows.rollback()},t.prototype.getChanges=function(){return this.rows._transQueue.select()},t}(Pe),Te=function(e){function t(t,n){var r;e.call(this,t);var o=new je(this);Object.defineProperty(this,"viewName",{get:function(){return this._name},set:function(e){if(e!==this.viewName){if("string"!=typeof e)throw new L(/EL05431/,null,[h(e)]);this._name=e}},configurable:!1,enumerable:!0}),Object.defineProperty(this,"columns",{get:function(){return o},set:function(e){if(!(e instanceof je))throw new L(/EL05432/,null,[this.constructor.name]);if(this.rows.count>0)throw new L(/EL05433/,null,[this.constructor.name,this.rows.count]);o=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"_baseEntity",{get:function(){return r},set:function(e){if(null!=e){if(!(e instanceof Pe))throw new L(/EL05434/,null,[this.constructor.name]);r=e}else r=void 0},configurable:!1,enumerable:!0}),n&&(this._baseEntity=n)}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["name","_baseEntity"],t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0;return r.viewName=this.viewName,o<2&&o>-1&&this._baseEntity&&(r._baseEntity=ie.createReferObject(this._baseEntity)),r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r,o,i=n||t;if(t._metaSet){if(!(r=ie.findSetObject(t._metaSet.$ref,i)))throw new L(/EL05435/,null,[t._metaSet.$ref]);this._metaSet=r}if(t._baseEntity){if(!(o=ie.findSetObject(t._baseEntity.$ref,i)))throw new L(/EL05436/,null,[t._baseEntity.$ref]);this._baseEntity=o}this.columns.setObject(t.columns,i),this.rows.setObject(t.rows,i),this.viewName=t.viewName},t.prototype.clone=function(){for(var e=new t(this.viewName,this._baseEntity),n=0;n<this.columns.count;n++)this.columns[n]._entity===this?e.columns.add(this.columns[n].clone(e)):e.columns.add(this.columns[n].clone());for(n=0;n<this.rows.count;n++)e.rows.add(this.rows[n].clone(e));return e},t.prototype.copy=function(e,n){var r=Array.prototype.slice.call(arguments),o=[],i=null,a=new t(this.viewName,this);return this.clone(),"function"==typeof e?(i=e,Array.isArray(n)?o=n:r.length>1&&(o=r.splice(1))):o=Array.isArray(e)?e:r.splice(0),this._buildEntity(a,i,o)},t}(Pe),ke=function(e){function t(t){e.call(this,t);var n=Te;Object.defineProperty(this,"_baseType",{get:function(){return n},set:function(e){if("function"!=typeof e)throw new L(/EL05441/,null,[h(e)]);if(!O.isProtoChain(e,Te))throw new L(/EL05442/,null,[this.constructor.name]);n=e},configurable:!1,enumerable:!0}),this._elemTypes=Te,this.$KEYWORD=["_baseType","existViewName"]}return U.inherits(t,e),t._NS="Meta.Entity",t._PARAMS=["_owner"],t.prototype.add=function(t,n){var r,o;if(t instanceof Te&&n)throw new L(/EL05443/,null,[]);if(n&&!(n instanceof Pe))throw new L(/EL05444/,null,[]);if("string"==typeof t)o=t,r=new this._baseType(o,n),this._owner instanceof ae&&this._owner.instanceOf("MetaSet")&&(r._metaSet=this._owner);else{if(!(t instanceof Te))throw new L(/EL05445/,null,[h(t)]);o=t.viewName,r=t,this._owner instanceof ae&&this._owner.instanceOf("MetaSet")&&(t._metaSet=this._owner)}if(this.existViewName(o))throw new L(/EL05446/,null,[o]);return e.prototype.add.call(this,o,r)},t.prototype.existViewName=function(e){for(var t=0;this.count>t;t++)if(this[t].viewName===e)return!0;return!1},t}(ue),Se=function(e){function t(n){e.call(this,n);var r=new Ae(this),o=new ke(this);Object.defineProperty(this,"setName",{get:function(){return this._name},set:function(e){if("string"!=typeof e)throw new L(/EL05451/,null,[this.constructor.name,h(e)]);this._name=e},configurable:!1,enumerable:!0}),Object.defineProperty(this,"tables",{get:function(){return r},configurable:!1,enumerable:!0}),Object.defineProperty(this,"views",{get:function(){return o},configurable:!1,enumerable:!0}),Object.defineProperty(this,"autoChanges",{set:function(e){if("boolean"!=typeof e)throw new L(/EL05452/,null,[this.constructor.name,h(e)]);for(var t=0;t<this.tables.count;t++)this.tables[t].rows.autoChanges=e},configurable:!1,enumerable:!0}),U.implements(t,this)}function n(e){return"object"===h(e)&&null!==e}function r(e){return!!n(e)&&!(!n(e.tables)&&!n(e.views))}return U.inherits(t,e),t._UNION=[de,ye,pe,me,ne],t._NS="Meta.Entity",t._PARAMS=["name"],t.transformSchema=function(e){var t={};if(!r(e))throw new L(/EL05453/,null,[]);return t.name=e.name,t.tables=function(e){for(var t={},n=0;n<e._elem.length;n++){var r=e._elem[n];t[e._key[n]]=Pe.transformSchema(r)}return t.$key=e._key,t}(e.tables),t.views=function(e){for(var t={},n=0;n<e._elem.length;n++){var r=e._elem[n];t[e._key[n]]=Pe.transformSchema(r)}return t.$key=e._key,t}(e.views),t},t.prototype.getObject=function(t,n){var r=e.prototype.getObject.call(this,t,n),o=t||0,i=n?[].concat(n,r):[].concat(r);return r.setName=this.setName,r.tables=this.tables.getObject(o,i),r.views=this.views.getObject(o,i),r},t.prototype.setObject=function(t,n){e.prototype.setObject.call(this,t,n);var r=n||t;this.setName=t.setName,this.tables.setObject(t.tables,r),this.views.setObject(t.views,r)},t.prototype.clone=function(){for(var e=new t(this.setName),n=0;n<this.tables.count;n++)e.tables.add(this.tables[n].clone());for(n=0;n<this.views.count;n++)e.views.add(this.views[n].clone());return e},t.prototype.clear=function(){for(var e=0;e<this.tables.count;e++)this.tables[e].clear();for(e=0;e<this.views.count;e++)this.views[e].clear()},t.prototype.reset=function(){this.tables.clear(),this.views.clear()},t.prototype.load=function(e,r){var o=e;if(e instanceof t)throw new L(/ES022/,null,[]);if("string"==typeof o&&(o="function"==typeof r?r(o):JSON.parse(o,null)),!n(o))throw new L(/EL05455/,null,[h(o)]);this.setObject(o)},t.prototype.output=function(e,t,n){var r=this.getObject(e);return"function"==typeof t?t(r,{space:n}):JSON.stringify(r,null,n)},t.prototype.read=function(e,n){var r=void 0===n?3:n;if("object"!==h(e)||null===e)throw new L(/EL05456/,null,[h(e)]);if("number"!=typeof r)throw new L(/EL05457/,null,[h(r)]);if(e instanceof t){this.setName=e.setName;for(var o=0;o<e.tables.count;o++){var i=e.tables.indexToKey(o);this.tables.keyToIndex(i)<0&&this.tables.add(i),this.tables[i]._readEntity(e.tables[i],n)}for(o=0;o<e.views.count;o++){i=e.views.indexToKey(o);this.views.keyToIndex(i)<0&&this.views.add(i),this.views[i]._readEntity(e.views[i],n)}}else r%2==1&&this.readSchema(e,3===r),Math.floor(r/2)>=1&&this.readData(e)},t.prototype.readSchema=function(e,o){var i,a,s=null;if(!n(e))throw new L(/EL05458/,null,[h(e)]);if(s=e.metaSet||e.dataSet||e,ie.isGuidObject(s)?(s=ie.transformRefer(s),i=t.transformSchema(s)):i=s,!r(i))throw new L(/EL05459/,null,[i.tables,i.views]);if(i.tables)if((a=i.tables).$key&&Array.isArray(a.$key))for(var l=0;l<a.$key.length;l++)u(a.$key[l],a,this.tables);else for(var c in a)u(c,a,this.tables);if(i.views)if((a=i.views).$key&&Array.isArray(a.$key))for(l=0;l<a.$key.length;l++)u(a.$key[l],a,this.views);else for(var c in a)u(c,a,this.views);return;function u(e,t,n){var r=t[e];n.exists(e)||n.add(e),ie.setMetaObject(r,n[e]),n[e]._readSchema(t[e],o,i)}},t.prototype.readData=function(e){var o,i=null;if(!n(e))throw new L(/EL0545A/,null,[h(e)]);if(i=e.metaSet||e.dataSet||e,ie.isGuidObject(i)?(i=ie.transformRefer(i),o=t.transformSchema(i)):o=i,!r(o))throw new L(/EL0545B/,null,[o.tables,o.views]);function a(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.exists(n)&&t[n].readData(e[n])}n(o.tables)&&a(o.tables,this.tables),n(o.views)&&a(o.views,this.views)},t.prototype.write=function(e){var n=this.getObject(e);return t.transformSchema(n)},t.prototype.writeSchema=function(e){var t=e||0,n=this.write(t);for(var r in n.tables)r.indexOf("$")<0&&(n.tables[r].rows=[]);for(var r in n.views)r.indexOf("$")<0&&(n.views[r].rows=[]);return n},t.prototype.writeData=function(e){var t=e||0,n=this.write(t);for(var r in n.tables)r.indexOf("$")<0&&(n.tables[r].columns={});for(var r in n.views)r.indexOf("$")<0&&(n.views[r].columns={});return n},t.prototype.acceptChanges=function(){for(var e=0;e<this.tables.count;e++)this.tables[e].acceptChanges()},t.prototype.rejectChanges=function(){for(var e=0;e<this.tables.count;e++)this.tables[e].rejectChanges()},t.prototype.hasChanges=function(){for(var e=0;e<this.tables.count;e++){if(this.tables[e].getChanges().length>0)return!0}return!1},t}(se);e.ArrayCollection=ce,e.BaseCollection=le,e.BaseColumn=Ee,e.BaseColumnCollection=$e,e.BaseEntity=Pe,e.EventEmitter=W,e.ExtendError=L,e.IArrayCollection=re,e.ICollection=J,e.IElement=X,e.IExportControl=pe,e.IGroupControl=he,e.IImportControl=ye,e.IList=ee,e.IListControl=te,e.IMarshal=Z,e.IObject=z,e.IPropertyCollection=H,e.ISchemaControl=de,e.ISerialize=ne,e.ITransaction=me,e.Message=v,e.MetaColumn=ve,e.MetaElement=se,e.MetaObject=ae,e.MetaRegistry=ie,e.MetaRow=we,e.MetaRowCollection=_e,e.MetaSet=Se,e.MetaTable=Ne,e.MetaTableCollection=Ae,e.MetaTableColumnCollection=Oe,e.MetaView=Te,e.MetaViewCollection=ke,e.MetaViewColumnCollection=je,e.NamespaceManager=oe,e.ObjectColumn=Le,e.PropertyCollection=ue,e.TransactionCollection=ge,e.TransactionQueue=be,e.Type=O,e.Util=U}));
//# sourceMappingURL=logic-entity.min.js.map
